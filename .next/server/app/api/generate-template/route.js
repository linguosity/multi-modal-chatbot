/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-template/route";
exports.ids = ["app/api/generate-template/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-template%2Froute&page=%2Fapi%2Fgenerate-template%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-template%2Froute.ts&appDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-template%2Froute&page=%2Fapi%2Fgenerate-template%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-template%2Froute.ts&appDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_brandonbrewer_Documents_Linguosity_Linguosity_src_app_api_generate_template_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate-template/route.ts */ \"(rsc)/./src/app/api/generate-template/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-template/route\",\n        pathname: \"/api/generate-template\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-template/route\"\n    },\n    resolvedPagePath: \"/Users/brandonbrewer/Documents/Linguosity/Linguosity/src/app/api/generate-template/route.ts\",\n    nextConfigOutput,\n    userland: _Users_brandonbrewer_Documents_Linguosity_Linguosity_src_app_api_generate_template_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS10ZW1wbGF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUtdGVtcGxhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZS10ZW1wbGF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJyYW5kb25icmV3ZXIlMkZEb2N1bWVudHMlMkZMaW5ndW9zaXR5JTJGTGluZ3Vvc2l0eSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZicmFuZG9uYnJld2VyJTJGRG9jdW1lbnRzJTJGTGluZ3Vvc2l0eSUyRkxpbmd1b3NpdHkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUMyQztBQUN4SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2JyYW5kb25icmV3ZXIvRG9jdW1lbnRzL0xpbmd1b3NpdHkvTGluZ3Vvc2l0eS9zcmMvYXBwL2FwaS9nZW5lcmF0ZS10ZW1wbGF0ZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJzdGFuZGFsb25lXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlLXRlbXBsYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGUtdGVtcGxhdGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYXRlLXRlbXBsYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2JyYW5kb25icmV3ZXIvRG9jdW1lbnRzL0xpbmd1b3NpdHkvTGluZ3Vvc2l0eS9zcmMvYXBwL2FwaS9nZW5lcmF0ZS10ZW1wbGF0ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-template%2Froute&page=%2Fapi%2Fgenerate-template%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-template%2Froute.ts&appDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/generate-template/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/generate-template/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var pizzip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! pizzip */ \"(rsc)/./node_modules/pizzip/js/index.js\");\n/* harmony import */ var pizzip__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(pizzip__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var docxtemplater__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! docxtemplater */ \"(rsc)/./node_modules/docxtemplater/js/docxtemplater.js\");\n/* harmony import */ var docxtemplater__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(docxtemplater__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_claudeListGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/claudeListGenerator */ \"(rsc)/./src/lib/claudeListGenerator.ts\");\n/* harmony import */ var _lib_openai_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/openai-config */ \"(rsc)/./src/lib/openai-config.ts\");\n\n\n\n\n\n\n\nasync function POST(request) {\n    try {\n        // Check if the request has a body\n        const contentType = request.headers.get('content-type');\n        if (contentType && contentType.includes('application/json')) {\n            const body = await request.json();\n            // For narrative generation\n            if (body.templateType === 'narrative') {\n                // Validate required parameters\n                if (!body.narrativeLevel || !body.targetVocabulary || !Array.isArray(body.targetVocabulary)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: 'Missing required parameters: narrativeLevel and targetVocabulary array'\n                    }, {\n                        status: 400\n                    });\n                }\n                const options = {\n                    narrativeLevel: body.narrativeLevel,\n                    targetVocabulary: body.targetVocabulary,\n                    studentAge: body.studentAge || 8,\n                    studentName: body.studentName || '',\n                    includeBarrettQuestions: body.includeBarrettQuestions !== false,\n                    includePreReadingActivities: body.includePreReadingActivities !== false,\n                    generateImages: body.generateImages === true\n                };\n                const result = await (0,_lib_claudeListGenerator__WEBPACK_IMPORTED_MODULE_5__.generateNarrative)(options);\n                // If image generation is requested and we have image prompts\n                if (options.generateImages && result.imagePrompts && result.imagePrompts.length > 0) {\n                    try {\n                        // Generate images for each prompt in parallel\n                        const imagePromises = result.imagePrompts.map(async (prompt, index)=>{\n                            try {\n                                const imageResponse = await _lib_openai_config__WEBPACK_IMPORTED_MODULE_6__.openaiClient.images.generate({\n                                    model: 'dall-e-3',\n                                    prompt: prompt.description,\n                                    n: 1,\n                                    size: '1024x1024',\n                                    quality: 'standard',\n                                    style: 'vivid'\n                                });\n                                return {\n                                    url: imageResponse.data[0].url,\n                                    prompt: prompt.description,\n                                    context: prompt.sceneContext,\n                                    index\n                                };\n                            } catch (imgError) {\n                                console.error(`Error generating image ${index + 1}:`, imgError);\n                                return {\n                                    error: `Failed to generate image ${index + 1}`,\n                                    context: prompt.sceneContext,\n                                    index\n                                };\n                            }\n                        });\n                        // Wait for all image generation to complete\n                        const generatedImages = await Promise.all(imagePromises);\n                        // Add images to the result\n                        result.images = generatedImages;\n                    } catch (imageError) {\n                        console.error('Error during image generation:', imageError);\n                    // Continue without images if there's an error\n                    }\n                }\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n            }\n        }\n        // Default behavior: generate assessment report template\n        // Paths for template files\n        const templatePath = path__WEBPACK_IMPORTED_MODULE_2___default().resolve(process.cwd(), 'public/templates/basic-template.docx');\n        const outputPath = path__WEBPACK_IMPORTED_MODULE_2___default().resolve(process.cwd(), 'public/templates/report-template.docx');\n        // Check if the basic template exists\n        if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(templatePath)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Template file not found. Please create a basic-template.docx file first.'\n            }, {\n                status: 404\n            });\n        }\n        // Load the template\n        const content = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(templatePath, 'binary');\n        const zip = new (pizzip__WEBPACK_IMPORTED_MODULE_3___default())(content);\n        // Create a new template\n        const doc = new (docxtemplater__WEBPACK_IMPORTED_MODULE_4___default())(zip, {\n            paragraphLoop: true,\n            linebreaks: true\n        });\n        // Create a template with the proper tags\n        doc.render({\n            header: {\n                title: \"Speech-Language Assessment Report\",\n                studentInformation: {\n                    fullName: \"{header.studentInformation.fullName}\",\n                    firstName: \"{header.studentInformation.firstName}\",\n                    lastName: \"{header.studentInformation.lastName}\",\n                    dob: \"{header.studentInformation.DOB}\",\n                    reportDate: \"{header.studentInformation.reportDate}\",\n                    evaluationDate: \"{header.studentInformation.evaluationDate}\",\n                    parents: \"{header.studentInformation.parentsString}\",\n                    homeLanguage: \"{header.studentInformation.homeLanguage}\"\n                },\n                reasonForReferral: \"{header.reasonForReferral}\",\n                confidentialityStatement: \"{header.confidentialityStatement}\"\n            },\n            background: {\n                educationalHistory: \"{background.studentDemographicsAndBackground.educationalHistory}\",\n                medicalHistory: \"{background.healthReport.medicalHistory}\",\n                visionAndHearingScreening: \"{background.healthReport.visionAndHearingScreening}\",\n                medicationsAndAllergies: \"{background.healthReport.medicationsAndAllergies}\",\n                earlyInterventionHistory: \"{background.earlyInterventionHistory}\",\n                familyStructure: \"{background.familyHistory.familyStructure}\",\n                languageAndCulturalBackground: \"{background.familyHistory.languageAndCulturalBackground}\",\n                socioeconomicFactors: \"{background.familyHistory.socioeconomicFactors}\",\n                parentGuardianConcerns: \"{background.parentGuardianConcerns}\"\n            },\n            assessmentResults: {\n                observations: {\n                    classroomObservations: \"{assessmentResults.observations.classroomObservations}\",\n                    playBasedInformalObservations: \"{assessmentResults.observations.playBasedInformalObservations}\",\n                    socialInteractionObservations: \"{assessmentResults.observations.socialInteractionObservations}\"\n                },\n                domains: {\n                    receptive: {\n                        topicSentence: \"{assessmentResults.domains.receptive.topicSentence}\",\n                        strengthsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.receptive.strengthsList loop for real data\"\n                            }\n                        ],\n                        needsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.receptive.needsList loop for real data\"\n                            }\n                        ],\n                        impactStatement: \"{assessmentResults.domains.receptive.impactStatement}\"\n                    },\n                    expressive: {\n                        topicSentence: \"{assessmentResults.domains.expressive.topicSentence}\",\n                        strengthsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.expressive.strengthsList loop for real data\"\n                            }\n                        ],\n                        needsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.expressive.needsList loop for real data\"\n                            }\n                        ],\n                        impactStatement: \"{assessmentResults.domains.expressive.impactStatement}\"\n                    },\n                    pragmatic: {\n                        topicSentence: \"{assessmentResults.domains.pragmatic.topicSentence}\",\n                        strengthsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.pragmatic.strengthsList loop for real data\"\n                            }\n                        ],\n                        needsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.pragmatic.needsList loop for real data\"\n                            }\n                        ],\n                        impactStatement: \"{assessmentResults.domains.pragmatic.impactStatement}\"\n                    },\n                    articulation: {\n                        topicSentence: \"{assessmentResults.domains.articulation.topicSentence}\",\n                        strengthsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.articulation.strengthsList loop for real data\"\n                            }\n                        ],\n                        needsList: [\n                            {\n                                text: \"Use the #assessmentResults.domains.articulation.needsList loop for real data\"\n                            }\n                        ],\n                        impactStatement: \"{assessmentResults.domains.articulation.impactStatement}\"\n                    }\n                }\n            },\n            conclusion: {\n                eligibility: {\n                    californiaEdCode: \"{conclusion.eligibility.californiaEdCode}\"\n                },\n                summary: \"{conclusion.conclusion.summary}\",\n                recommendations: {\n                    services: {\n                        typeOfService: \"{conclusion.recommendations.services.typeOfService}\",\n                        frequency: \"{conclusion.recommendations.services.frequency}\",\n                        setting: \"{conclusion.recommendations.services.setting}\"\n                    },\n                    accommodationsList: [\n                        {\n                            text: \"Use the #conclusion.recommendations.accommodationsList loop for real data\"\n                        }\n                    ],\n                    facilitationStrategiesList: [\n                        {\n                            text: \"Use the #conclusion.recommendations.facilitationStrategiesList loop for real data\"\n                        }\n                    ]\n                }\n            }\n        });\n        // Generate the output document\n        const buf = doc.getZip().generate({\n            type: 'nodebuffer',\n            compression: 'DEFLATE'\n        });\n        // Write the document to the target location\n        fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(outputPath, buf);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error('Error generating template:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS10ZW1wbGF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDcEM7QUFDSTtBQUNJO0FBQ2M7QUFDZ0Q7QUFDdkM7QUFFNUMsZUFBZU8sS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLGtDQUFrQztRQUNsQyxNQUFNQyxjQUFjRCxRQUFRRSxPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUN4QyxJQUFJRixlQUFlQSxZQUFZRyxRQUFRLENBQUMscUJBQXFCO1lBQzNELE1BQU1DLE9BQU8sTUFBTUwsUUFBUU0sSUFBSTtZQUUvQiwyQkFBMkI7WUFDM0IsSUFBSUQsS0FBS0UsWUFBWSxLQUFLLGFBQWE7Z0JBQ3JDLCtCQUErQjtnQkFDL0IsSUFBSSxDQUFDRixLQUFLRyxjQUFjLElBQUksQ0FBQ0gsS0FBS0ksZ0JBQWdCLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDTixLQUFLSSxnQkFBZ0IsR0FBRztvQkFDM0YsT0FBT2pCLHFEQUFZQSxDQUFDYyxJQUFJLENBQ3RCO3dCQUFFTSxPQUFPO29CQUF5RSxHQUNsRjt3QkFBRUMsUUFBUTtvQkFBSTtnQkFFbEI7Z0JBRUEsTUFBTUMsVUFBc0M7b0JBQzFDTixnQkFBZ0JILEtBQUtHLGNBQWM7b0JBQ25DQyxrQkFBa0JKLEtBQUtJLGdCQUFnQjtvQkFDdkNNLFlBQVlWLEtBQUtVLFVBQVUsSUFBSTtvQkFDL0JDLGFBQWFYLEtBQUtXLFdBQVcsSUFBSTtvQkFDakNDLHlCQUF5QlosS0FBS1ksdUJBQXVCLEtBQUs7b0JBQzFEQyw2QkFBNkJiLEtBQUthLDJCQUEyQixLQUFLO29CQUNsRUMsZ0JBQWdCZCxLQUFLYyxjQUFjLEtBQUs7Z0JBQzFDO2dCQUVBLE1BQU1DLFNBQVMsTUFBTXZCLDJFQUFpQkEsQ0FBQ2lCO2dCQUV2Qyw2REFBNkQ7Z0JBQzdELElBQUlBLFFBQVFLLGNBQWMsSUFBSUMsT0FBT0MsWUFBWSxJQUFJRCxPQUFPQyxZQUFZ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UUFBUTdCLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9wQixxREFBWUEsQ0FBQ2MsSUFBSSxDQUFDO1lBQ3ZCOEMsU0FBUztZQUNUeEMsT0FBT0EsaUJBQWlCc0csUUFBUXRHLE1BQU11RyxPQUFPLEdBQUc7UUFDbEQsR0FBRztZQUFFdEcsUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmFuZG9uYnJld2VyL0RvY3VtZW50cy9MaW5ndW9zaXR5L0xpbmd1b3NpdHkvc3JjL2FwcC9hcGkvZ2VuZXJhdGUtdGVtcGxhdGUvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBQaXpaaXAgZnJvbSAncGl6emlwJztcbmltcG9ydCBEb2N4dGVtcGxhdGVyIGZyb20gJ2RvY3h0ZW1wbGF0ZXInO1xuaW1wb3J0IHsgTmFycmF0aXZlR2VuZXJhdGlvbk9wdGlvbnMsIGdlbmVyYXRlTmFycmF0aXZlIH0gZnJvbSAnQC9saWIvY2xhdWRlTGlzdEdlbmVyYXRvcic7XG5pbXBvcnQgeyBvcGVuYWlDbGllbnQgfSBmcm9tICdAL2xpYi9vcGVuYWktY29uZmlnJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiB0aGUgcmVxdWVzdCBoYXMgYSBib2R5XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgXG4gICAgICAvLyBGb3IgbmFycmF0aXZlIGdlbmVyYXRpb25cbiAgICAgIGlmIChib2R5LnRlbXBsYXRlVHlwZSA9PT0gJ25hcnJhdGl2ZScpIHtcbiAgICAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgcGFyYW1ldGVyc1xuICAgICAgICBpZiAoIWJvZHkubmFycmF0aXZlTGV2ZWwgfHwgIWJvZHkudGFyZ2V0Vm9jYWJ1bGFyeSB8fCAhQXJyYXkuaXNBcnJheShib2R5LnRhcmdldFZvY2FidWxhcnkpKSB7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgcGFyYW1ldGVyczogbmFycmF0aXZlTGV2ZWwgYW5kIHRhcmdldFZvY2FidWxhcnkgYXJyYXknIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9uczogTmFycmF0aXZlR2VuZXJhdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgbmFycmF0aXZlTGV2ZWw6IGJvZHkubmFycmF0aXZlTGV2ZWwsXG4gICAgICAgICAgdGFyZ2V0Vm9jYWJ1bGFyeTogYm9keS50YXJnZXRWb2NhYnVsYXJ5LFxuICAgICAgICAgIHN0dWRlbnRBZ2U6IGJvZHkuc3R1ZGVudEFnZSB8fCA4LFxuICAgICAgICAgIHN0dWRlbnROYW1lOiBib2R5LnN0dWRlbnROYW1lIHx8ICcnLFxuICAgICAgICAgIGluY2x1ZGVCYXJyZXR0UXVlc3Rpb25zOiBib2R5LmluY2x1ZGVCYXJyZXR0UXVlc3Rpb25zICE9PSBmYWxzZSxcbiAgICAgICAgICBpbmNsdWRlUHJlUmVhZGluZ0FjdGl2aXRpZXM6IGJvZHkuaW5jbHVkZVByZVJlYWRpbmdBY3Rpdml0aWVzICE9PSBmYWxzZSxcbiAgICAgICAgICBnZW5lcmF0ZUltYWdlczogYm9keS5nZW5lcmF0ZUltYWdlcyA9PT0gdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdlbmVyYXRlTmFycmF0aXZlKG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgaW1hZ2UgZ2VuZXJhdGlvbiBpcyByZXF1ZXN0ZWQgYW5kIHdlIGhhdmUgaW1hZ2UgcHJvbXB0c1xuICAgICAgICBpZiAob3B0aW9ucy5nZW5lcmF0ZUltYWdlcyAmJiByZXN1bHQuaW1hZ2VQcm9tcHRzICYmIHJlc3VsdC5pbWFnZVByb21wdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBpbWFnZXMgZm9yIGVhY2ggcHJvbXB0IGluIHBhcmFsbGVsXG4gICAgICAgICAgICBjb25zdCBpbWFnZVByb21pc2VzID0gcmVzdWx0LmltYWdlUHJvbXB0cy5tYXAoYXN5bmMgKHByb21wdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVJlc3BvbnNlID0gYXdhaXQgb3BlbmFpQ2xpZW50LmltYWdlcy5nZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgICBtb2RlbDogJ2RhbGwtZS0zJyxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgbjogMSxcbiAgICAgICAgICAgICAgICAgIHNpemU6ICcxMDI0eDEwMjQnLFxuICAgICAgICAgICAgICAgICAgcXVhbGl0eTogJ3N0YW5kYXJkJyxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiAndml2aWQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2VSZXNwb25zZS5kYXRhWzBdLnVybCxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgY29udGV4dDogcHJvbXB0LnNjZW5lQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoaW1nRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZW5lcmF0aW5nIGltYWdlICR7aW5kZXggKyAxfTpgLCBpbWdFcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBgRmFpbGVkIHRvIGdlbmVyYXRlIGltYWdlICR7aW5kZXggKyAxfWAsXG4gICAgICAgICAgICAgICAgICBjb250ZXh0OiBwcm9tcHQuc2NlbmVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgYWxsIGltYWdlIGdlbmVyYXRpb24gdG8gY29tcGxldGVcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZEltYWdlcyA9IGF3YWl0IFByb21pc2UuYWxsKGltYWdlUHJvbWlzZXMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgaW1hZ2VzIHRvIHRoZSByZXN1bHRcbiAgICAgICAgICAgIHJlc3VsdC5pbWFnZXMgPSBnZW5lcmF0ZWRJbWFnZXM7XG4gICAgICAgICAgfSBjYXRjaCAoaW1hZ2VFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGltYWdlIGdlbmVyYXRpb246JywgaW1hZ2VFcnJvcik7XG4gICAgICAgICAgICAvLyBDb250aW51ZSB3aXRob3V0IGltYWdlcyBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGVmYXVsdCBiZWhhdmlvcjogZ2VuZXJhdGUgYXNzZXNzbWVudCByZXBvcnQgdGVtcGxhdGVcbiAgICAvLyBQYXRocyBmb3IgdGVtcGxhdGUgZmlsZXNcbiAgICBjb25zdCB0ZW1wbGF0ZVBhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYy90ZW1wbGF0ZXMvYmFzaWMtdGVtcGxhdGUuZG9jeCcpO1xuICAgIGNvbnN0IG91dHB1dFBhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYy90ZW1wbGF0ZXMvcmVwb3J0LXRlbXBsYXRlLmRvY3gnKTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBiYXNpYyB0ZW1wbGF0ZSBleGlzdHNcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmModGVtcGxhdGVQYXRoKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6ICdUZW1wbGF0ZSBmaWxlIG5vdCBmb3VuZC4gUGxlYXNlIGNyZWF0ZSBhIGJhc2ljLXRlbXBsYXRlLmRvY3ggZmlsZSBmaXJzdC4nIFxuICAgICAgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICB9XG5cbiAgICAvLyBMb2FkIHRoZSB0ZW1wbGF0ZVxuICAgIGNvbnN0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmModGVtcGxhdGVQYXRoLCAnYmluYXJ5Jyk7XG4gICAgY29uc3QgemlwID0gbmV3IFBpelppcChjb250ZW50KTtcblxuICAgIC8vIENyZWF0ZSBhIG5ldyB0ZW1wbGF0ZVxuICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N4dGVtcGxhdGVyKHppcCwge1xuICAgICAgcGFyYWdyYXBoTG9vcDogdHJ1ZSxcbiAgICAgIGxpbmVicmVha3M6IHRydWUsXG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgYSB0ZW1wbGF0ZSB3aXRoIHRoZSBwcm9wZXIgdGFnc1xuICAgIGRvYy5yZW5kZXIoe1xuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIHRpdGxlOiBcIlNwZWVjaC1MYW5ndWFnZSBBc3Nlc3NtZW50IFJlcG9ydFwiLFxuICAgICAgICBzdHVkZW50SW5mb3JtYXRpb246IHtcbiAgICAgICAgICBmdWxsTmFtZTogXCJ7aGVhZGVyLnN0dWRlbnRJbmZvcm1hdGlvbi5mdWxsTmFtZX1cIixcbiAgICAgICAgICBmaXJzdE5hbWU6IFwie2hlYWRlci5zdHVkZW50SW5mb3JtYXRpb24uZmlyc3ROYW1lfVwiLFxuICAgICAgICAgIGxhc3ROYW1lOiBcIntoZWFkZXIuc3R1ZGVudEluZm9ybWF0aW9uLmxhc3ROYW1lfVwiLFxuICAgICAgICAgIGRvYjogXCJ7aGVhZGVyLnN0dWRlbnRJbmZvcm1hdGlvbi5ET0J9XCIsXG4gICAgICAgICAgcmVwb3J0RGF0ZTogXCJ7aGVhZGVyLnN0dWRlbnRJbmZvcm1hdGlvbi5yZXBvcnREYXRlfVwiLFxuICAgICAgICAgIGV2YWx1YXRpb25EYXRlOiBcIntoZWFkZXIuc3R1ZGVudEluZm9ybWF0aW9uLmV2YWx1YXRpb25EYXRlfVwiLFxuICAgICAgICAgIHBhcmVudHM6IFwie2hlYWRlci5zdHVkZW50SW5mb3JtYXRpb24ucGFyZW50c1N0cmluZ31cIixcbiAgICAgICAgICBob21lTGFuZ3VhZ2U6IFwie2hlYWRlci5zdHVkZW50SW5mb3JtYXRpb24uaG9tZUxhbmd1YWdlfVwiXG4gICAgICAgIH0sXG4gICAgICAgIHJlYXNvbkZvclJlZmVycmFsOiBcIntoZWFkZXIucmVhc29uRm9yUmVmZXJyYWx9XCIsXG4gICAgICAgIGNvbmZpZGVudGlhbGl0eVN0YXRlbWVudDogXCJ7aGVhZGVyLmNvbmZpZGVudGlhbGl0eVN0YXRlbWVudH1cIlxuICAgICAgfSxcbiAgICAgIGJhY2tncm91bmQ6IHtcbiAgICAgICAgZWR1Y2F0aW9uYWxIaXN0b3J5OiBcIntiYWNrZ3JvdW5kLnN0dWRlbnREZW1vZ3JhcGhpY3NBbmRCYWNrZ3JvdW5kLmVkdWNhdGlvbmFsSGlzdG9yeX1cIixcbiAgICAgICAgbWVkaWNhbEhpc3Rvcnk6IFwie2JhY2tncm91bmQuaGVhbHRoUmVwb3J0Lm1lZGljYWxIaXN0b3J5fVwiLFxuICAgICAgICB2aXNpb25BbmRIZWFyaW5nU2NyZWVuaW5nOiBcIntiYWNrZ3JvdW5kLmhlYWx0aFJlcG9ydC52aXNpb25BbmRIZWFyaW5nU2NyZWVuaW5nfVwiLFxuICAgICAgICBtZWRpY2F0aW9uc0FuZEFsbGVyZ2llczogXCJ7YmFja2dyb3VuZC5oZWFsdGhSZXBvcnQubWVkaWNhdGlvbnNBbmRBbGxlcmdpZXN9XCIsXG4gICAgICAgIGVhcmx5SW50ZXJ2ZW50aW9uSGlzdG9yeTogXCJ7YmFja2dyb3VuZC5lYXJseUludGVydmVudGlvbkhpc3Rvcnl9XCIsXG4gICAgICAgIGZhbWlseVN0cnVjdHVyZTogXCJ7YmFja2dyb3VuZC5mYW1pbHlIaXN0b3J5LmZhbWlseVN0cnVjdHVyZX1cIixcbiAgICAgICAgbGFuZ3VhZ2VBbmRDdWx0dXJhbEJhY2tncm91bmQ6IFwie2JhY2tncm91bmQuZmFtaWx5SGlzdG9yeS5sYW5ndWFnZUFuZEN1bHR1cmFsQmFja2dyb3VuZH1cIixcbiAgICAgICAgc29jaW9lY29ub21pY0ZhY3RvcnM6IFwie2JhY2tncm91bmQuZmFtaWx5SGlzdG9yeS5zb2Npb2Vjb25vbWljRmFjdG9yc31cIixcbiAgICAgICAgcGFyZW50R3VhcmRpYW5Db25jZXJuczogXCJ7YmFja2dyb3VuZC5wYXJlbnRHdWFyZGlhbkNvbmNlcm5zfVwiXG4gICAgICB9LFxuICAgICAgYXNzZXNzbWVudFJlc3VsdHM6IHtcbiAgICAgICAgb2JzZXJ2YXRpb25zOiB7XG4gICAgICAgICAgY2xhc3Nyb29tT2JzZXJ2YXRpb25zOiBcInthc3Nlc3NtZW50UmVzdWx0cy5vYnNlcnZhdGlvbnMuY2xhc3Nyb29tT2JzZXJ2YXRpb25zfVwiLFxuICAgICAgICAgIHBsYXlCYXNlZEluZm9ybWFsT2JzZXJ2YXRpb25zOiBcInthc3Nlc3NtZW50UmVzdWx0cy5vYnNlcnZhdGlvbnMucGxheUJhc2VkSW5mb3JtYWxPYnNlcnZhdGlvbnN9XCIsXG4gICAgICAgICAgc29jaWFsSW50ZXJhY3Rpb25PYnNlcnZhdGlvbnM6IFwie2Fzc2Vzc21lbnRSZXN1bHRzLm9ic2VydmF0aW9ucy5zb2NpYWxJbnRlcmFjdGlvbk9ic2VydmF0aW9uc31cIlxuICAgICAgICB9LFxuICAgICAgICBkb21haW5zOiB7XG4gICAgICAgICAgcmVjZXB0aXZlOiB7XG4gICAgICAgICAgICB0b3BpY1NlbnRlbmNlOiBcInthc3Nlc3NtZW50UmVzdWx0cy5kb21haW5zLnJlY2VwdGl2ZS50b3BpY1NlbnRlbmNlfVwiLFxuICAgICAgICAgICAgc3RyZW5ndGhzTGlzdDogW3t0ZXh0OiBcIlVzZSB0aGUgI2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMucmVjZXB0aXZlLnN0cmVuZ3Roc0xpc3QgbG9vcCBmb3IgcmVhbCBkYXRhXCJ9XSxcbiAgICAgICAgICAgIG5lZWRzTGlzdDogW3t0ZXh0OiBcIlVzZSB0aGUgI2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMucmVjZXB0aXZlLm5lZWRzTGlzdCBsb29wIGZvciByZWFsIGRhdGFcIn1dLFxuICAgICAgICAgICAgaW1wYWN0U3RhdGVtZW50OiBcInthc3Nlc3NtZW50UmVzdWx0cy5kb21haW5zLnJlY2VwdGl2ZS5pbXBhY3RTdGF0ZW1lbnR9XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGV4cHJlc3NpdmU6IHtcbiAgICAgICAgICAgIHRvcGljU2VudGVuY2U6IFwie2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMuZXhwcmVzc2l2ZS50b3BpY1NlbnRlbmNlfVwiLFxuICAgICAgICAgICAgc3RyZW5ndGhzTGlzdDogW3t0ZXh0OiBcIlVzZSB0aGUgI2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMuZXhwcmVzc2l2ZS5zdHJlbmd0aHNMaXN0IGxvb3AgZm9yIHJlYWwgZGF0YVwifV0sXG4gICAgICAgICAgICBuZWVkc0xpc3Q6IFt7dGV4dDogXCJVc2UgdGhlICNhc3Nlc3NtZW50UmVzdWx0cy5kb21haW5zLmV4cHJlc3NpdmUubmVlZHNMaXN0IGxvb3AgZm9yIHJlYWwgZGF0YVwifV0sXG4gICAgICAgICAgICBpbXBhY3RTdGF0ZW1lbnQ6IFwie2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMuZXhwcmVzc2l2ZS5pbXBhY3RTdGF0ZW1lbnR9XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByYWdtYXRpYzoge1xuICAgICAgICAgICAgdG9waWNTZW50ZW5jZTogXCJ7YXNzZXNzbWVudFJlc3VsdHMuZG9tYWlucy5wcmFnbWF0aWMudG9waWNTZW50ZW5jZX1cIixcbiAgICAgICAgICAgIHN0cmVuZ3Roc0xpc3Q6IFt7dGV4dDogXCJVc2UgdGhlICNhc3Nlc3NtZW50UmVzdWx0cy5kb21haW5zLnByYWdtYXRpYy5zdHJlbmd0aHNMaXN0IGxvb3AgZm9yIHJlYWwgZGF0YVwifV0sXG4gICAgICAgICAgICBuZWVkc0xpc3Q6IFt7dGV4dDogXCJVc2UgdGhlICNhc3Nlc3NtZW50UmVzdWx0cy5kb21haW5zLnByYWdtYXRpYy5uZWVkc0xpc3QgbG9vcCBmb3IgcmVhbCBkYXRhXCJ9XSxcbiAgICAgICAgICAgIGltcGFjdFN0YXRlbWVudDogXCJ7YXNzZXNzbWVudFJlc3VsdHMuZG9tYWlucy5wcmFnbWF0aWMuaW1wYWN0U3RhdGVtZW50fVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcnRpY3VsYXRpb246IHtcbiAgICAgICAgICAgIHRvcGljU2VudGVuY2U6IFwie2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMuYXJ0aWN1bGF0aW9uLnRvcGljU2VudGVuY2V9XCIsXG4gICAgICAgICAgICBzdHJlbmd0aHNMaXN0OiBbe3RleHQ6IFwiVXNlIHRoZSAjYXNzZXNzbWVudFJlc3VsdHMuZG9tYWlucy5hcnRpY3VsYXRpb24uc3RyZW5ndGhzTGlzdCBsb29wIGZvciByZWFsIGRhdGFcIn1dLFxuICAgICAgICAgICAgbmVlZHNMaXN0OiBbe3RleHQ6IFwiVXNlIHRoZSAjYXNzZXNzbWVudFJlc3VsdHMuZG9tYWlucy5hcnRpY3VsYXRpb24ubmVlZHNMaXN0IGxvb3AgZm9yIHJlYWwgZGF0YVwifV0sXG4gICAgICAgICAgICBpbXBhY3RTdGF0ZW1lbnQ6IFwie2Fzc2Vzc21lbnRSZXN1bHRzLmRvbWFpbnMuYXJ0aWN1bGF0aW9uLmltcGFjdFN0YXRlbWVudH1cIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbmNsdXNpb246IHtcbiAgICAgICAgZWxpZ2liaWxpdHk6IHtcbiAgICAgICAgICBjYWxpZm9ybmlhRWRDb2RlOiBcIntjb25jbHVzaW9uLmVsaWdpYmlsaXR5LmNhbGlmb3JuaWFFZENvZGV9XCJcbiAgICAgICAgfSxcbiAgICAgICAgc3VtbWFyeTogXCJ7Y29uY2x1c2lvbi5jb25jbHVzaW9uLnN1bW1hcnl9XCIsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczoge1xuICAgICAgICAgIHNlcnZpY2VzOiB7XG4gICAgICAgICAgICB0eXBlT2ZTZXJ2aWNlOiBcIntjb25jbHVzaW9uLnJlY29tbWVuZGF0aW9ucy5zZXJ2aWNlcy50eXBlT2ZTZXJ2aWNlfVwiLFxuICAgICAgICAgICAgZnJlcXVlbmN5OiBcIntjb25jbHVzaW9uLnJlY29tbWVuZGF0aW9ucy5zZXJ2aWNlcy5mcmVxdWVuY3l9XCIsXG4gICAgICAgICAgICBzZXR0aW5nOiBcIntjb25jbHVzaW9uLnJlY29tbWVuZGF0aW9ucy5zZXJ2aWNlcy5zZXR0aW5nfVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY2NvbW1vZGF0aW9uc0xpc3Q6IFt7dGV4dDogXCJVc2UgdGhlICNjb25jbHVzaW9uLnJlY29tbWVuZGF0aW9ucy5hY2NvbW1vZGF0aW9uc0xpc3QgbG9vcCBmb3IgcmVhbCBkYXRhXCJ9XSxcbiAgICAgICAgICBmYWNpbGl0YXRpb25TdHJhdGVnaWVzTGlzdDogW3t0ZXh0OiBcIlVzZSB0aGUgI2NvbmNsdXNpb24ucmVjb21tZW5kYXRpb25zLmZhY2lsaXRhdGlvblN0cmF0ZWdpZXNMaXN0IGxvb3AgZm9yIHJlYWwgZGF0YVwifV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gR2VuZXJhdGUgdGhlIG91dHB1dCBkb2N1bWVudFxuICAgIGNvbnN0IGJ1ZiA9IGRvYy5nZXRaaXAoKS5nZW5lcmF0ZSh7XG4gICAgICB0eXBlOiAnbm9kZWJ1ZmZlcicsXG4gICAgICBjb21wcmVzc2lvbjogJ0RFRkxBVEUnLFxuICAgIH0pO1xuXG4gICAgLy8gV3JpdGUgdGhlIGRvY3VtZW50IHRvIHRoZSB0YXJnZXQgbG9jYXRpb25cbiAgICBmcy53cml0ZUZpbGVTeW5jKG91dHB1dFBhdGgsIGJ1Zik7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgdGVtcGxhdGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIFxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZnMiLCJwYXRoIiwiUGl6WmlwIiwiRG9jeHRlbXBsYXRlciIsImdlbmVyYXRlTmFycmF0aXZlIiwib3BlbmFpQ2xpZW50IiwiUE9TVCIsInJlcXVlc3QiLCJjb250ZW50VHlwZSIsImhlYWRlcnMiLCJnZXQiLCJpbmNsdWRlcyIsImJvZHkiLCJqc29uIiwidGVtcGxhdGVUeXBlIiwibmFycmF0aXZlTGV2ZWwiLCJ0YXJnZXRWb2NhYnVsYXJ5IiwiQXJyYXkiLCJpc0FycmF5IiwiZXJyb3IiLCJzdGF0dXMiLCJvcHRpb25zIiwic3R1ZGVudEFnZSIsInN0dWRlbnROYW1lIiwiaW5jbHVkZUJhcnJldHRRdWVzdGlvbnMiLCJpbmNsdWRlUHJlUmVhZGluZ0FjdGl2aXRpZXMiLCJnZW5lcmF0ZUltYWdlcyIsInJlc3VsdCIsImltYWdlUHJvbXB0cyIsImxlbmd0aCIsImltYWdlUHJvbWlzZXMiLCJtYXAiLCJwcm9tcHQiLCJpbmRleCIsImltYWdlUmVzcG9uc2UiLCJpbWFnZXMiLCJnZW5lcmF0ZSIsIm1vZGVsIiwiZGVzY3JpcHRpb24iLCJuIiwic2l6ZSIsInF1YWxpdHkiLCJzdHlsZSIsInVybCIsImRhdGEiLCJjb250ZXh0Iiwic2NlbmVDb250ZXh0IiwiaW1nRXJyb3IiLCJjb25zb2xlIiwiZ2VuZXJhdGVkSW1hZ2VzIiwiUHJvbWlzZSIsImFsbCIsImltYWdlRXJyb3IiLCJ0ZW1wbGF0ZVBhdGgiLCJyZXNvbHZlIiwicHJvY2VzcyIsImN3ZCIsIm91dHB1dFBhdGgiLCJleGlzdHNTeW5jIiwic3VjY2VzcyIsImNvbnRlbnQiLCJyZWFkRmlsZVN5bmMiLCJ6aXAiLCJkb2MiLCJwYXJhZ3JhcGhMb29wIiwibGluZWJyZWFrcyIsInJlbmRlciIsImhlYWRlciIsInRpdGxlIiwic3R1ZGVudEluZm9ybWF0aW9uIiwiZnVsbE5hbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImRvYiIsInJlcG9ydERhdGUiLCJldmFsdWF0aW9uRGF0ZSIsInBhcmVudHMiLCJob21lTGFuZ3VhZ2UiLCJyZWFzb25Gb3JSZWZlcnJhbCIsImNvbmZpZGVudGlhbGl0eVN0YXRlbWVudCIsImJhY2tncm91bmQiLCJlZHVjYXRpb25hbEhpc3RvcnkiLCJtZWRpY2FsSGlzdG9yeSIsInZpc2lvbkFuZEhlYXJpbmdTY3JlZW5pbmciLCJtZWRpY2F0aW9uc0FuZEFsbGVyZ2llcyIsImVhcmx5SW50ZXJ2ZW50aW9uSGlzdG9yeSIsImZhbWlseVN0cnVjdHVyZSIsImxhbmd1YWdlQW5kQ3VsdHVyYWxCYWNrZ3JvdW5kIiwic29jaW9lY29ub21pY0ZhY3RvcnMiLCJwYXJlbnRHdWFyZGlhbkNvbmNlcm5zIiwiYXNzZXNzbWVudFJlc3VsdHMiLCJvYnNlcnZhdGlvbnMiLCJjbGFzc3Jvb21PYnNlcnZhdGlvbnMiLCJwbGF5QmFzZWRJbmZvcm1hbE9ic2VydmF0aW9ucyIsInNvY2lhbEludGVyYWN0aW9uT2JzZXJ2YXRpb25zIiwiZG9tYWlucyIsInJlY2VwdGl2ZSIsInRvcGljU2VudGVuY2UiLCJzdHJlbmd0aHNMaXN0IiwidGV4dCIsIm5lZWRzTGlzdCIsImltcGFjdFN0YXRlbWVudCIsImV4cHJlc3NpdmUiLCJwcmFnbWF0aWMiLCJhcnRpY3VsYXRpb24iLCJjb25jbHVzaW9uIiwiZWxpZ2liaWxpdHkiLCJjYWxpZm9ybmlhRWRDb2RlIiwic3VtbWFyeSIsInJlY29tbWVuZGF0aW9ucyIsInNlcnZpY2VzIiwidHlwZU9mU2VydmljZSIsImZyZXF1ZW5jeSIsInNldHRpbmciLCJhY2NvbW1vZGF0aW9uc0xpc3QiLCJmYWNpbGl0YXRpb25TdHJhdGVnaWVzTGlzdCIsImJ1ZiIsImdldFppcCIsInR5cGUiLCJjb21wcmVzc2lvbiIsIndyaXRlRmlsZVN5bmMiLCJFcnJvciIsIm1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate-template/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/claudeListGenerator.ts":
/*!****************************************!*\
  !*** ./src/lib/claudeListGenerator.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateNarrative: () => (/* binding */ generateNarrative),\n/* harmony export */   generateWordList: () => (/* binding */ generateWordList)\n/* harmony export */ });\n// Barrett's Taxonomy of Reading Comprehension levels description\nconst BARRETTS_TAXONOMY_DESCRIPTION = `\nBarrett's Taxonomy of Reading Comprehension includes five levels:\n1. Literal Comprehension: Recognizing and recalling explicit information from the text.\n2. Reorganization: Organizing or ordering information explicitly stated in the text.\n3. Inferential Comprehension: Using information explicitly stated to hypothesize about unstated information.\n4. Evaluation: Making judgments about the content of the text based on external criteria or internal evidence.\n5. Appreciation: Emotional response to the text, identification with characters, sensitivity to style, and imagery.\n`;\n/**\n * Generates word lists using Claude Batch API\n */ async function generateWordList({ targetSound, wordPosition, maxSyllables, excludedSounds = [], studentAge = 8, studentName = \"\" }) {\n    try {\n        // Construct the Claude system prompt\n        const systemPrompt = `\n      You are a speech-language pathologist assistant specialized in creating targeted articulation word lists.\n      \n      I need you to generate the following for a ${studentAge}-year-old child targeting the sound \"${targetSound}\" in the ${wordPosition} position:\n      \n      1. A list of 20 real words with a maximum of ${maxSyllables} syllables\n      2. A list of 10 nonsense words that follow English phonotactic rules\n      3. 5 short phrases containing the target words\n      4. 5 sentences containing the target words\n      5. A 4-paragraph narrative story that incorporates multiple target words\n      \n      ${excludedSounds.length > 0 ? `Please exclude the following sounds: ${excludedSounds.join(', ')}` : ''}\n      \n      In the narrative, place the words containing the target sound within <mark></mark> tags to highlight them.\n      \n      Return your response as a JSON object with these keys: words, nonsenseWords, phrases, sentences, narrative.\n    `;\n        // In a real implementation, you would make an API call to Claude here\n        // For this example, we'll mock a response\n        // Mock response based on target sound\n        const mockResponses = {\n            '/s/': {\n                words: [\n                    \"sun\",\n                    \"sit\",\n                    \"soap\",\n                    \"say\",\n                    \"six\",\n                    \"sand\",\n                    \"saw\",\n                    \"sip\",\n                    \"sell\",\n                    \"sick\",\n                    \"safe\",\n                    \"same\",\n                    \"sad\",\n                    \"sail\",\n                    \"salt\",\n                    \"sock\",\n                    \"soft\",\n                    \"soup\",\n                    \"seed\",\n                    \"seat\"\n                ],\n                nonsenseWords: [\n                    \"seb\",\n                    \"sig\",\n                    \"sop\",\n                    \"sut\",\n                    \"sek\",\n                    \"siv\",\n                    \"som\",\n                    \"saf\",\n                    \"sut\",\n                    \"sym\"\n                ],\n                phrases: [\n                    \"six sunny days\",\n                    \"sad sick sailor\",\n                    \"silver sand castle\",\n                    \"soft silk scarf\",\n                    \"second summer sunset\"\n                ],\n                sentences: [\n                    \"Sam saw six seals swimming.\",\n                    \"Sally sells seashells by the seashore.\",\n                    \"The student solved several science problems.\",\n                    \"Seven sisters sat silently.\",\n                    \"Susan sang songs at the celebration.\"\n                ],\n                narrative: `<p>Once upon a time, there was a <mark>silly</mark> <mark>snake</mark> named <mark>Sam</mark>. <mark>Sam</mark> loved to <mark>slither</mark> through the <mark>sand</mark> on <mark>sunny</mark> days. One day, <mark>Sam</mark> <mark>spotted</mark> a <mark>sparkling</mark> <mark>stone</mark> in the <mark>soil</mark>.</p>\n        \n        <p>\"What a <mark>surprising</mark> <mark>sight</mark>!\" <mark>said</mark> <mark>Sam</mark>. He <mark>slowly</mark> <mark>slid</mark> toward the <mark>shiny</mark> object. When he got closer, he <mark>saw</mark> it was a <mark>special</mark> <mark>silver</mark> key.</p>\n        \n        <p><mark>Sam</mark> decided to <mark>search</mark> for what the key might open. He <mark>slithered</mark> through the <mark>soft</mark> grass, past a <mark>small</mark> pond, and up a <mark>steep</mark> hill. At the top, he found a <mark>strange</mark> little box with a <mark>silver</mark> lock.</p>\n        \n        <p>When <mark>Sam</mark> used the key, the box opened to reveal a <mark>stunning</mark> map leading to a <mark>secret</mark> garden filled with the <mark>sweetest</mark> berries a <mark>snake</mark> could ever taste. From that day on, <mark>Sam</mark> would <mark>smile</mark> whenever he thought about his <mark>special</mark> discovery.</p>`\n            },\n            '/r/': {\n                words: [\n                    \"red\",\n                    \"run\",\n                    \"road\",\n                    \"rain\",\n                    \"read\",\n                    \"room\",\n                    \"rock\",\n                    \"rug\",\n                    \"rice\",\n                    \"rope\",\n                    \"right\",\n                    \"write\",\n                    \"radio\",\n                    \"robot\",\n                    \"race\",\n                    \"round\",\n                    \"rabbit\",\n                    \"ring\",\n                    \"rose\",\n                    \"river\"\n                ],\n                nonsenseWords: [\n                    \"rab\",\n                    \"rin\",\n                    \"rop\",\n                    \"rut\",\n                    \"rek\",\n                    \"riv\",\n                    \"rom\",\n                    \"raf\",\n                    \"rut\",\n                    \"rym\"\n                ],\n                phrases: [\n                    \"red racing car\",\n                    \"running rabbit fast\",\n                    \"rough rocky road\",\n                    \"round rubber ball\",\n                    \"royal ruby ring\"\n                ],\n                sentences: [\n                    \"The rabbit ran around the rocky road.\",\n                    \"Ryan wrote a report about racing cars.\",\n                    \"The river runs through the rural region.\",\n                    \"Rachel read her favorite rainbow story.\",\n                    \"The robot rolled right across the room.\"\n                ],\n                narrative: `<p>Once there was a little <mark>rabbit</mark> named <mark>Ruby</mark>. <mark>Ruby</mark> loved to <mark>run</mark> through the forest and play near the <mark>river</mark>. One <mark>rainy</mark> day, <mark>Ruby</mark> found a <mark>red</mark> umbrella leaning against a <mark>rock</mark>.</p>\n        \n        <p>\"I wonder who left this here,\" <mark>Ruby</mark> said with curiosity. The <mark>rain</mark> was falling hard, making little <mark>ripples</mark> in puddles all around. <mark>Ruby</mark> decided to use the umbrella to stay dry as she <mark>raced</mark> back home along the <mark>rocky</mark> path.</p>\n        \n        <p>On her way, <mark>Ruby</mark> met a <mark>robot</mark> who was getting all wet in the <mark>rain</mark>. \"Would you like to share my umbrella?\" <mark>Ruby</mark> asked kindly. The <mark>robot</mark>, whose name was <mark>Rex</mark>, was very grateful. Together they walked down the <mark>road</mark>, talking about their favorite things.</p>\n        \n        <p><mark>Ruby</mark> and <mark>Rex</mark> became good friends after that <mark>rainy</mark> day. They would often meet by the <mark>river</mark>, skip <mark>rocks</mark>, and <mark>read</mark> stories together. Sometimes they would just sit quietly and watch the <mark>rainbows</mark> that appeared after the <mark>rain</mark>, making the whole forest glow with beautiful colors.</p>`\n            }\n        };\n        // Get response based on target sound or use /s/ as default\n        const response = mockResponses[targetSound] || mockResponses['/s/'];\n        // In a real implementation, return the data from the Claude API response\n        return {\n            realWords: response.words,\n            nonsenseWords: response.nonsenseWords,\n            phrases: response.phrases,\n            sentences: response.sentences,\n            narrative: response.narrative\n        };\n    } catch (error) {\n        console.error('Error generating word list:', error);\n        throw error;\n    }\n}\n/**\n * Generates a narrative based on specified vocabulary and developmental level\n */ async function generateNarrative({ narrativeLevel, targetVocabulary = [], targetGrammar, studentAge = 8, studentName = \"\", includeBarrettQuestions = true, includePreReadingActivities = true, generateImages = false, consistentImageStyle = true, storyGrammar = {} }) {\n    try {\n        // Determine appropriate narrative complexity based on narrative level\n        const narrativeDescriptions = {\n            heaps: \"Simple collection of unrelated ideas with no plot or organization (2-3 years development level)\",\n            sequences: \"Related events around a central topic but lacking causal relationships, may include temporal order (3 years development level)\",\n            primitive_narratives: \"Has a central person, object, or event with actions and feelings, but no clear cause/effect (4 years development level)\",\n            chain_narratives: \"Events linked by cause and effect or time, but no clear goal-directed behavior (5 years development level)\",\n            focused_chains: \"Events revolve around a problem and a goal, may have a basic plan but lacks full resolution (5-6 years development level)\",\n            true_narratives: \"Complete story with all essential elements: setting, characters, problem, plan, actions, outcome, resolution (6-7+ years development level)\"\n        };\n        // Prepare system prompt for narrative generation\n        let systemPrompt = `\n      You are a speech-language pathologist assistant specialized in creating developmentally appropriate narratives for children.\n      \n      I need you to generate a narrative story for a ${studentAge}-year-old${studentName ? ` named ${studentName}` : ''} at the \"${narrativeLevel}\" developmental level, which means: ${narrativeDescriptions[narrativeLevel]}\n    `;\n        // Add target vocabulary or grammar feature to the prompt\n        if (targetVocabulary && targetVocabulary.length > 0) {\n            systemPrompt += `\n      \n      The narrative must incorporate the following target vocabulary words:\n      ${targetVocabulary.join(', ')}\n      \n      Please highlight each target vocabulary word in the narrative by placing it within <mark></mark> tags.\n      \n      For each target vocabulary word, please provide:\n      1. A child-friendly definition\n      2. An example sentence showing the word in context (different from how it's used in the narrative)\n      `;\n        } else if (targetGrammar) {\n            systemPrompt += `\n      \n      The narrative must emphasize the following grammar feature: ${targetGrammar.replace('_', ' ')}\n      \n      Please highlight examples of this grammar feature in the narrative by placing them within <mark></mark> tags.\n      \n      Also provide 5-7 example sentences using this grammar feature with brief explanations of how the feature is used in each sentence.\n      `;\n        }\n        // Add story grammar elements for true narratives\n        if (narrativeLevel === 'true_narratives' && Object.keys(storyGrammar).length > 0) {\n            systemPrompt += `\n      \n      Please incorporate the following story elements in your narrative:\n      ${Object.entries(storyGrammar).filter(([_, value])=>value && value.trim() !== '').map(([key, value])=>`- ${key}: ${value}`).join('\\n')}\n      `;\n        }\n        // Add other requested elements\n        if (includePreReadingActivities) {\n            systemPrompt += `\n      \n      Also include 3-5 pre-reading activities that will prepare students for the narrative, such as:\n      - Picture walk suggestions\n      - Vocabulary preview activities\n      - Prediction exercises\n      - Background knowledge activation\n      `;\n        }\n        if (includeBarrettQuestions) {\n            systemPrompt += `\n      \n      ${BARRETTS_TAXONOMY_DESCRIPTION}\n      \n      Please include 1-2 comprehension questions for each level of Barrett's Taxonomy, with sample answers for each.\n      `;\n        }\n        // Add image generation instructions if requested\n        if (generateImages) {\n            systemPrompt += `\n      \n      Additionally, provide 3-5 image generation prompts that would illustrate key scenes from the narrative.\n      For each image prompt, include:\n      1. A detailed description for DALL-E to generate the image\n      2. The context of the scene in the story\n      \n      ${consistentImageStyle ? 'Very important: Ensure that characters and settings maintain consistent appearance across all image prompts. Describe the character designs and settings in detail to maintain consistency.' : ''}\n      `;\n        }\n        systemPrompt += `\n    \n    Return your response in a structured format with separate sections for the narrative, ${targetVocabulary && targetVocabulary.length > 0 ? 'vocabulary definitions' : 'grammar examples'}, ${includePreReadingActivities ? 'pre-reading activities,' : ''} ${includeBarrettQuestions ? 'comprehension questions,' : ''} ${generateImages ? 'and image prompts.' : '.'}\n    `;\n        // In a real implementation, you would make an API call to Claude here\n        // For this example, we'll mock a response based on the parameters\n        // Sample vocabulary definitions for target vocabulary approach\n        const vocabularyDefinitions = targetVocabulary && targetVocabulary.length > 0 ? targetVocabulary.map((word)=>{\n            const mockDefinitions = {\n                \"adventure\": {\n                    definition: \"An exciting experience that might be a little dangerous or take you to new places\",\n                    example: \"Going camping in the mountains was quite an adventure for the family.\"\n                },\n                \"forest\": {\n                    definition: \"A large area covered with trees and plants\",\n                    example: \"We took a hike through the forest and saw many different animals.\"\n                },\n                \"discover\": {\n                    definition: \"To find something for the first time or learn something new\",\n                    example: \"The scientists were excited to discover a new type of butterfly.\"\n                },\n                \"curious\": {\n                    definition: \"Wanting to know or learn about something\",\n                    example: \"The curious puppy sniffed everything in the new house.\"\n                },\n                \"treasure\": {\n                    definition: \"Something valuable or precious like gold or jewels\",\n                    example: \"The pirates buried their treasure on a deserted island.\"\n                }\n            };\n            return {\n                word,\n                definition: mockDefinitions[word]?.definition || `A word that means ${word}`,\n                exampleSentence: mockDefinitions[word]?.example || `Here is an example using the word ${word}.`\n            };\n        }) : undefined;\n        // Sample grammar examples for target grammar approach\n        const grammarExamples = targetGrammar ? [\n            {\n                sentence: \"Yesterday, I walked to the store and bought some groceries.\",\n                explanation: \"Uses regular past tense verb 'walked' with -ed ending and irregular past tense 'bought'.\"\n            },\n            {\n                sentence: \"Last week, she saw a movie that she really enjoyed.\",\n                explanation: \"Uses irregular past tense verbs 'saw' and 'enjoyed' to describe completed actions.\"\n            },\n            {\n                sentence: \"The children played in the park until it started to rain.\",\n                explanation: \"Uses regular past tense 'played' and 'started' to describe sequence of events.\"\n            },\n            {\n                sentence: \"They built a sandcastle that was taller than anyone expected.\",\n                explanation: \"Uses irregular past tense 'built' and 'was' for describing past creation and state.\"\n            },\n            {\n                sentence: \"When I arrived, the party had already ended.\",\n                explanation: \"Uses past perfect 'had ended' to show an action completed before another past action.\"\n            }\n        ] : undefined;\n        // Sample narrative based on level, vocabulary/grammar, and story grammar elements\n        let mockNarrative = \"\";\n        switch(narrativeLevel){\n            case 'sequences':\n                mockNarrative = `<p>We went to the <mark>forest</mark>. We had an <mark>adventure</mark>. I was <mark>curious</mark>. I <mark>discovered</mark> a box. The box had <mark>treasure</mark>. We went home. We ate dinner.</p>`;\n                break;\n            case 'primitive_narratives':\n                mockNarrative = `<p>Jamie went to the <mark>forest</mark>. Jamie was <mark>curious</mark> about the sounds. Jamie had an <mark>adventure</mark> with a squirrel. Jamie <mark>discovered</mark> a shiny rock. The rock was like a <mark>treasure</mark>. Jamie was happy.</p>`;\n                break;\n            case 'chain_narratives':\n                mockNarrative = `<p>Ana went on an <mark>adventure</mark> to the <mark>forest</mark>. She was <mark>curious</mark> about the old tree. She looked inside a hole in the tree. She <mark>discovered</mark> a box. The box had a <mark>treasure</mark> inside. It was a pretty rock. Ana was happy to find it.</p>`;\n                break;\n            case 'focused_chains':\n                mockNarrative = `<p>Max wanted to have an <mark>adventure</mark> in the <mark>forest</mark> near his house. He was <mark>curious</mark> about what was behind the big rock. He climbed over the rock and <mark>discovered</mark> a hidden path. Max followed the path to see where it led. He found an old tree with a hole in it. Inside was a small box. The box had a <mark>treasure</mark> inside. It was an old coin. Max tried to find the owner but couldn't.</p>`;\n                break;\n            case 'true_narratives':\n                if (Object.keys(storyGrammar).length > 0) {\n                    // Incorporate story grammar elements if provided\n                    const setting = storyGrammar.setting || \"a magical forest\";\n                    const characters = storyGrammar.characters || \"a young explorer named Lily\";\n                    const problem = storyGrammar.problem || \"a hidden treasure\";\n                    const attempts = storyGrammar.attempts || \"following a map and asking for help\";\n                    const resolution = storyGrammar.resolution || \"finding the treasure and sharing it\";\n                    mockNarrative = `<p>Once upon a time, in ${setting}, there was ${characters}. On a bright sunny morning, they set out on an <mark>adventure</mark> through the winding paths of the <mark>forest</mark>. They were very <mark>curious</mark> about finding ${problem}.</p>\n          \n          <p>\"I wonder what I'll find today,\" they said with excitement. As they walked deeper into the forest, they noticed something unusual—a strange marking on an old tree. They decided to investigate by ${attempts}.</p>\n          \n          <p>After searching for hours, they finally <mark>discovered</mark> what they had been looking for. Hidden beneath some fallen leaves was a small wooden box. Inside was a magnificent <mark>treasure</mark> that sparkled in the sunlight.</p>\n          \n          <p>The adventure ended with ${resolution}. They returned home, tired but happy, knowing that their curiosity and perseverance had led them to something special. From that day on, they would always remember their wonderful discovery in the forest.</p>`;\n                } else {\n                    mockNarrative = `<p>Once upon a time, there was a girl named Lily who loved <mark>adventures</mark>. One sunny Saturday morning, she decided to explore the <mark>forest</mark> behind her grandparents' house. Lily had always been <mark>curious</mark> about what might be hidden among the tall trees and winding paths.</p>\n          \n          <p>\"I'm going to explore today,\" Lily told her grandmother. \"I'll be careful and stay on the main path.\" Her grandmother gave her a small backpack with water and snacks for her journey.</p>\n          \n          <p>As Lily walked deeper into the <mark>forest</mark>, she noticed something unusual—a bright blue feather on the ground. Her <mark>curious</mark> nature made her wonder what kind of bird it came from. She decided to follow the trail of feathers that seemed to lead off the main path. That's when she <mark>discovered</mark> a small clearing she had never seen before.</p>\n          \n          <p>In the middle of the clearing stood an old oak tree with a hollow at its base. Lily carefully peeked inside and gasped. There was a bird's nest with a beautiful blue egg! This was better than any <mark>treasure</mark> she could have imagined. Lily knew this was a special <mark>discovery</mark>, but she also knew not to disturb the nest. She quietly backed away, marking the path in her mind so she could tell her grandparents about this amazing <mark>adventure</mark>. Sometimes the best treasures aren't gold or jewels, but the wonders of nature waiting to be discovered by those <mark>curious</mark> enough to look.</p>`;\n                }\n                break;\n            default:\n                mockNarrative = `<p>Please select a narrative level.</p>`;\n        }\n        // If using target grammar instead of vocabulary, create a different narrative with grammar examples\n        if (targetGrammar) {\n            switch(targetGrammar){\n                case 'past_tense':\n                    mockNarrative = `<p>Yesterday, Max <mark>visited</mark> his grandmother. She <mark>lived</mark> in a small cottage near the forest. Max <mark>brought</mark> her some cookies that his mother <mark>baked</mark>. His grandmother <mark>smiled</mark> when she <mark>saw</mark> him at the door.</p>\n          \n          <p>They <mark>spent</mark> the afternoon together. Grandmother <mark>told</mark> stories about when she <mark>was</mark> young. Max <mark>listened</mark> carefully to every word. They <mark>walked</mark> in the garden and <mark>picked</mark> some flowers.</p>\n          \n          <p>Before he <mark>left</mark>, Grandmother <mark>gave</mark> Max a small wooden box. \"This <mark>belonged</mark> to your grandfather,\" she <mark>said</mark>. Max <mark>opened</mark> it carefully and <mark>found</mark> a shiny silver compass inside. He <mark>thanked</mark> his grandmother with a big hug.</p>\n          \n          <p>On his way home, Max <mark>used</mark> the compass to guide him. He <mark>felt</mark> very grown-up and special. When he <mark>arrived</mark> home, he <mark>showed</mark> everyone his special gift. His parents <mark>were</mark> happy that he <mark>had</mark> such a wonderful time.</p>`;\n                    break;\n                case 'present_tense':\n                    // Similar mock narratives would be generated for other grammar targets\n                    mockNarrative = `<p>Max <mark>visits</mark> his grandmother every Sunday. She <mark>lives</mark> in a small cottage near the forest. Max <mark>brings</mark> her cookies that his mother <mark>bakes</mark>. His grandmother always <mark>smiles</mark> when she <mark>sees</mark> him at the door.</p>\n          \n          <p>They <mark>spend</mark> the afternoon together. Grandmother <mark>tells</mark> stories about when she <mark>is</mark> young. Max <mark>listens</mark> carefully to every word. They <mark>walk</mark> in the garden and <mark>pick</mark> some flowers.</p>\n          \n          <p>Before he <mark>leaves</mark>, Grandmother often <mark>gives</mark> Max a small gift. \"This <mark>belongs</mark> to you now,\" she <mark>says</mark>. Max <mark>opens</mark> it carefully and <mark>finds</mark> something special inside. He <mark>thanks</mark> his grandmother with a big hug.</p>\n          \n          <p>On his way home, Max <mark>uses</mark> his imagination to create adventures. He <mark>feels</mark> very grown-up and special. When he <mark>arrives</mark> home, he <mark>shows</mark> everyone his special gift. His parents <mark>are</mark> happy that he <mark>has</mark> such a wonderful time.</p>`;\n                    break;\n                default:\n                    mockNarrative = `<p>Narrative with ${targetGrammar.replace('_', ' ')} examples would be generated here.</p>`;\n            }\n        }\n        // Sample pre-reading activities\n        const preReadingActivities = includePreReadingActivities ? `\n      ### Pre-Reading Activities\n      \n      #### Picture Walk\n      Look at the illustrations in the story together. Ask questions like:\n      - What do you see in this picture?\n      - What do you think might happen in this story?\n      - How do you think the character feels?\n      \n      #### Vocabulary Preview\n      Before reading, introduce these target words with simple definitions and actions:\n      - Adventure: Act out going on an adventure with a backpack\n      - Forest: Pretend to walk through trees and hear forest sounds\n      - Curious: Make a curious face with raised eyebrows and finger on chin\n      - Discover: Act out finding something exciting\n      - Treasure: Pretend to open a treasure chest\n      \n      #### Prediction Chart\n      Create a simple chart with \"What might happen in the story?\" and have students draw or write their predictions.\n      \n      #### Personal Connection\n      Ask students: \"Have you ever found something interesting outside? Tell me about what you discovered.\"\n    ` : undefined;\n        // Sample comprehension questions based on Barrett's Taxonomy\n        const comprehensionQuestions = includeBarrettQuestions ? [\n            {\n                question: \"Where did the main character go on their adventure?\",\n                level: \"literal\",\n                sampleAnswer: \"The main character went to the forest.\"\n            },\n            {\n                question: \"What did the main character find in the story?\",\n                level: \"literal\",\n                sampleAnswer: \"The main character found a treasure/special object.\"\n            },\n            {\n                question: \"What happened first, second, and last in the story?\",\n                level: \"reorganization\",\n                sampleAnswer: \"First, the character went to the forest. Second, they discovered something interesting. Last, they found a treasure.\"\n            },\n            {\n                question: \"Why was the main character curious about the forest?\",\n                level: \"inferential\",\n                sampleAnswer: \"The main character was probably curious because they wondered what interesting things might be hidden in the forest.\"\n            },\n            {\n                question: \"How do you think the main character felt when they discovered the treasure?\",\n                level: \"inferential\",\n                sampleAnswer: \"They probably felt excited and happy to find something special.\"\n            },\n            {\n                question: \"Was it a good idea for the character to go into the forest alone? Why or why not?\",\n                level: \"evaluation\",\n                sampleAnswer: \"Answers will vary. Students might say it wasn't safe to go alone, or that the character was prepared and careful.\"\n            },\n            {\n                question: \"If you found the same treasure as the character, what would you do with it?\",\n                level: \"appreciation\",\n                sampleAnswer: \"Answers will vary based on personal preference.\"\n            }\n        ] : undefined;\n        // Sample image prompts for narrative illustration\n        // Ensure consistency in character and setting descriptions for all images\n        const imagePrompts = generateImages ? (()=>{\n            const characterDescription = studentName ? `a child named ${studentName}` : \"a young child with a curious expression\";\n            const settingDescription = storyGrammar.setting || \"a forest with tall trees\";\n            return [\n                {\n                    description: `${characterDescription} standing at the edge of ${settingDescription}. The scene is bright, colorful, and inviting, suitable for a children's book illustration with soft lighting filtering through the leaves. The child is wearing a red t-shirt and blue pants with a small backpack.`,\n                    sceneContext: \"The beginning of the story when the main character is about to enter the forest for their adventure.\"\n                },\n                {\n                    description: `A detailed close-up of ${characterDescription} (in the same red t-shirt and blue pants) discovering something interesting on the forest floor in ${settingDescription}. The child is kneeling down with an expression of wonder, surrounded by forest vegetation, mushrooms, and wildflowers. The same soft, dappled lighting filters through the tree canopy as in the first image.`,\n                    sceneContext: \"The middle of the story when the character discovers something unusual and decides to investigate.\"\n                },\n                {\n                    description: `${characterDescription} (still in the same red t-shirt and blue pants) in a magical clearing within ${settingDescription}. There's an ancient oak tree at the center with a small hollow at its base glowing with a subtle light. The child is carefully peeking into the hollow with a look of amazement. The scene has the same lighting and artistic style as the previous images, maintaining visual consistency.`,\n                    sceneContext: \"The climax of the story when the character discovers the treasure or special object.\"\n                },\n                {\n                    description: `${characterDescription} (in the same outfit) returning home from ${settingDescription} with a happy expression, holding or carrying their discovery. The path leads from the forest to a small house in the distance. The same visual style and lighting as the previous images, maintaining consistency in the character's appearance and the overall scene.`,\n                    sceneContext: \"The resolution of the story when the character returns home after their adventure.\"\n                }\n            ];\n        })() : undefined;\n        // Return mock response with all requested elements\n        const response = {\n            narrative: mockNarrative,\n            preReadingActivities: preReadingActivities,\n            comprehensionQuestions: comprehensionQuestions,\n            imagePrompts: imagePrompts\n        };\n        // Add either vocabulary definitions or grammar examples based on what was targeted\n        if (targetVocabulary && targetVocabulary.length > 0) {\n            response.vocabulary = vocabularyDefinitions;\n        } else if (targetGrammar) {\n            response.grammarExamples = grammarExamples;\n        }\n        return response;\n    } catch (error) {\n        console.error('Error generating narrative:', error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGFBQWEsR0FBR0YscUJBQXFCLHlCQUF5QixFQUFFQyxtQkFBbUIsb05BQW9OLENBQUM7b0JBQ3hTRSxjQUFjO2dCQUNoQjtnQkFDQTtvQkFDRUQsYUFBYSxDQUFDLHVCQUF1QixFQUFFRixxQkFBcUIsbUdBQW1HLEVBQUVDLG1CQUFtQiw4TUFBOE0sQ0FBQztvQkFDbllFLGNBQWM7Z0JBQ2hCO2dCQUNBO29CQUNFRCxhQUFhLEdBQUdGLHFCQUFxQiw2RUFBNkUsRUFBRUMsbUJBQW1CLDRSQUE0UixDQUFDO29CQUNwYUUsY0FBYztnQkFDaEI7Z0JBQ0E7b0JBQ0VELGFBQWEsR0FBR0YscUJBQXFCLDBDQUEwQyxFQUFFQyxtQkFBbUIsdVFBQXVRLENBQUM7b0JBQzVXRSxjQUFjO2dCQUNoQjthQUNEO1FBQ0gsT0FBT25CO1FBRVAsbURBQW1EO1FBQ25ELE1BQU1wQyxXQUFnQjtZQUNwQkQsV0FBV3lDO1lBQ1hNLHNCQUFzQkE7WUFDdEJDLHdCQUF3QkE7WUFDeEJJLGNBQWNBO1FBQ2hCO1FBRUEsbUZBQW1GO1FBQ25GLElBQUk3QyxvQkFBb0JBLGlCQUFpQmQsTUFBTSxHQUFHLEdBQUc7WUFDbkRRLFNBQVN3RCxVQUFVLEdBQUcxQjtRQUN4QixPQUFPLElBQUl2QixlQUFlO1lBQ3hCUCxTQUFTcUMsZUFBZSxHQUFHQTtRQUM3QjtRQUVBLE9BQU9yQztJQUNULEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmFuZG9uYnJld2VyL0RvY3VtZW50cy9MaW5ndW9zaXR5L0xpbmd1b3NpdHkvc3JjL2xpYi9jbGF1ZGVMaXN0R2VuZXJhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdvcmRMaXN0IH0gZnJvbSAnQC9saWIvc2NoZW1hcy93b3JkbGlzdCc7XG5cbi8vIFR5cGVzIGZvciBDbGF1ZGUgYmF0Y2ggQVBJIGludGVyYWN0aW9uXG5pbnRlcmZhY2UgQ2xhdWRlQmF0Y2hSZXF1ZXN0IHtcbiAgbW9kZWw6IHN0cmluZztcbiAgc3lzdGVtOiBzdHJpbmc7XG4gIG1lc3NhZ2VzOiBDbGF1ZGVNZXNzYWdlW107XG59XG5cbmludGVyZmFjZSBDbGF1ZGVNZXNzYWdlIHtcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIENsYXVkZUJhdGNoUmVzcG9uc2Uge1xuICB3b3Jkczogc3RyaW5nW107XG4gIG5vbnNlbnNlV29yZHM6IHN0cmluZ1tdO1xuICBwaHJhc2VzOiBzdHJpbmdbXTtcbiAgc2VudGVuY2VzOiBzdHJpbmdbXTtcbiAgbmFycmF0aXZlOiBzdHJpbmc7XG59XG5cbi8vIE5hcnJhdGl2ZSBnZW5lcmF0aW9uIG9wdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgTmFycmF0aXZlR2VuZXJhdGlvbk9wdGlvbnMge1xuICBuYXJyYXRpdmVMZXZlbDogJ2hlYXBzJyB8ICdzZXF1ZW5jZXMnIHwgJ3ByaW1pdGl2ZV9uYXJyYXRpdmVzJyB8ICdjaGFpbl9uYXJyYXRpdmVzJyB8ICdmb2N1c2VkX2NoYWlucycgfCAndHJ1ZV9uYXJyYXRpdmVzJztcbiAgdGFyZ2V0Vm9jYWJ1bGFyeT86IHN0cmluZ1tdO1xuICB0YXJnZXRHcmFtbWFyPzogc3RyaW5nO1xuICBzdHVkZW50QWdlPzogbnVtYmVyO1xuICBzdHVkZW50TmFtZT86IHN0cmluZztcbiAgaW5jbHVkZUJhcnJldHRRdWVzdGlvbnM/OiBib29sZWFuO1xuICBpbmNsdWRlUHJlUmVhZGluZ0FjdGl2aXRpZXM/OiBib29sZWFuO1xuICBnZW5lcmF0ZUltYWdlcz86IGJvb2xlYW47XG4gIGNvbnNpc3RlbnRJbWFnZVN0eWxlPzogYm9vbGVhbjtcbiAgc3RvcnlHcmFtbWFyPzoge1xuICAgIHNldHRpbmc/OiBzdHJpbmc7XG4gICAgY2hhcmFjdGVycz86IHN0cmluZztcbiAgICBwcm9ibGVtPzogc3RyaW5nO1xuICAgIGF0dGVtcHRzPzogc3RyaW5nO1xuICAgIHJlc29sdXRpb24/OiBzdHJpbmc7XG4gICAgdGhlbWU/OiBzdHJpbmc7XG4gIH07XG59XG5cbi8vIEJhcnJldHQncyBUYXhvbm9teSBvZiBSZWFkaW5nIENvbXByZWhlbnNpb24gbGV2ZWxzIGRlc2NyaXB0aW9uXG5jb25zdCBCQVJSRVRUU19UQVhPTk9NWV9ERVNDUklQVElPTiA9IGBcbkJhcnJldHQncyBUYXhvbm9teSBvZiBSZWFkaW5nIENvbXByZWhlbnNpb24gaW5jbHVkZXMgZml2ZSBsZXZlbHM6XG4xLiBMaXRlcmFsIENvbXByZWhlbnNpb246IFJlY29nbml6aW5nIGFuZCByZWNhbGxpbmcgZXhwbGljaXQgaW5mb3JtYXRpb24gZnJvbSB0aGUgdGV4dC5cbjIuIFJlb3JnYW5pemF0aW9uOiBPcmdhbml6aW5nIG9yIG9yZGVyaW5nIGluZm9ybWF0aW9uIGV4cGxpY2l0bHkgc3RhdGVkIGluIHRoZSB0ZXh0LlxuMy4gSW5mZXJlbnRpYWwgQ29tcHJlaGVuc2lvbjogVXNpbmcgaW5mb3JtYXRpb24gZXhwbGljaXRseSBzdGF0ZWQgdG8gaHlwb3RoZXNpemUgYWJvdXQgdW5zdGF0ZWQgaW5mb3JtYXRpb24uXG40LiBFdmFsdWF0aW9uOiBNYWtpbmcganVkZ21lbnRzIGFib3V0IHRoZSBjb250ZW50IG9mIHRoZSB0ZXh0IGJhc2VkIG9uIGV4dGVybmFsIGNyaXRlcmlhIG9yIGludGVybmFsIGV2aWRlbmNlLlxuNS4gQXBwcmVjaWF0aW9uOiBFbW90aW9uYWwgcmVzcG9uc2UgdG8gdGhlIHRleHQsIGlkZW50aWZpY2F0aW9uIHdpdGggY2hhcmFjdGVycywgc2Vuc2l0aXZpdHkgdG8gc3R5bGUsIGFuZCBpbWFnZXJ5LlxuYDtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgd29yZCBsaXN0cyB1c2luZyBDbGF1ZGUgQmF0Y2ggQVBJXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVdvcmRMaXN0KHtcbiAgdGFyZ2V0U291bmQsXG4gIHdvcmRQb3NpdGlvbixcbiAgbWF4U3lsbGFibGVzLFxuICBleGNsdWRlZFNvdW5kcyA9IFtdLFxuICBzdHVkZW50QWdlID0gOCxcbiAgc3R1ZGVudE5hbWUgPSBcIlwiXG59OiB7XG4gIHRhcmdldFNvdW5kOiBzdHJpbmc7XG4gIHdvcmRQb3NpdGlvbjogc3RyaW5nO1xuICBtYXhTeWxsYWJsZXM6IG51bWJlcjtcbiAgZXhjbHVkZWRTb3VuZHM/OiBzdHJpbmdbXTtcbiAgc3R1ZGVudEFnZT86IG51bWJlcjtcbiAgc3R1ZGVudE5hbWU/OiBzdHJpbmc7XG59KTogUHJvbWlzZTxQYXJ0aWFsPFdvcmRMaXN0Pj4ge1xuICB0cnkge1xuICAgIC8vIENvbnN0cnVjdCB0aGUgQ2xhdWRlIHN5c3RlbSBwcm9tcHRcbiAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSBgXG4gICAgICBZb3UgYXJlIGEgc3BlZWNoLWxhbmd1YWdlIHBhdGhvbG9naXN0IGFzc2lzdGFudCBzcGVjaWFsaXplZCBpbiBjcmVhdGluZyB0YXJnZXRlZCBhcnRpY3VsYXRpb24gd29yZCBsaXN0cy5cbiAgICAgIFxuICAgICAgSSBuZWVkIHlvdSB0byBnZW5lcmF0ZSB0aGUgZm9sbG93aW5nIGZvciBhICR7c3R1ZGVudEFnZX0teWVhci1vbGQgY2hpbGQgdGFyZ2V0aW5nIHRoZSBzb3VuZCBcIiR7dGFyZ2V0U291bmR9XCIgaW4gdGhlICR7d29yZFBvc2l0aW9ufSBwb3NpdGlvbjpcbiAgICAgIFxuICAgICAgMS4gQSBsaXN0IG9mIDIwIHJlYWwgd29yZHMgd2l0aCBhIG1heGltdW0gb2YgJHttYXhTeWxsYWJsZXN9IHN5bGxhYmxlc1xuICAgICAgMi4gQSBsaXN0IG9mIDEwIG5vbnNlbnNlIHdvcmRzIHRoYXQgZm9sbG93IEVuZ2xpc2ggcGhvbm90YWN0aWMgcnVsZXNcbiAgICAgIDMuIDUgc2hvcnQgcGhyYXNlcyBjb250YWluaW5nIHRoZSB0YXJnZXQgd29yZHNcbiAgICAgIDQuIDUgc2VudGVuY2VzIGNvbnRhaW5pbmcgdGhlIHRhcmdldCB3b3Jkc1xuICAgICAgNS4gQSA0LXBhcmFncmFwaCBuYXJyYXRpdmUgc3RvcnkgdGhhdCBpbmNvcnBvcmF0ZXMgbXVsdGlwbGUgdGFyZ2V0IHdvcmRzXG4gICAgICBcbiAgICAgICR7ZXhjbHVkZWRTb3VuZHMubGVuZ3RoID4gMCA/IGBQbGVhc2UgZXhjbHVkZSB0aGUgZm9sbG93aW5nIHNvdW5kczogJHtleGNsdWRlZFNvdW5kcy5qb2luKCcsICcpfWAgOiAnJ31cbiAgICAgIFxuICAgICAgSW4gdGhlIG5hcnJhdGl2ZSwgcGxhY2UgdGhlIHdvcmRzIGNvbnRhaW5pbmcgdGhlIHRhcmdldCBzb3VuZCB3aXRoaW4gPG1hcms+PC9tYXJrPiB0YWdzIHRvIGhpZ2hsaWdodCB0aGVtLlxuICAgICAgXG4gICAgICBSZXR1cm4geW91ciByZXNwb25zZSBhcyBhIEpTT04gb2JqZWN0IHdpdGggdGhlc2Uga2V5czogd29yZHMsIG5vbnNlbnNlV29yZHMsIHBocmFzZXMsIHNlbnRlbmNlcywgbmFycmF0aXZlLlxuICAgIGA7XG5cbiAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHlvdSB3b3VsZCBtYWtlIGFuIEFQSSBjYWxsIHRvIENsYXVkZSBoZXJlXG4gICAgLy8gRm9yIHRoaXMgZXhhbXBsZSwgd2UnbGwgbW9jayBhIHJlc3BvbnNlXG5cbiAgICAvLyBNb2NrIHJlc3BvbnNlIGJhc2VkIG9uIHRhcmdldCBzb3VuZFxuICAgIGNvbnN0IG1vY2tSZXNwb25zZXM6IFJlY29yZDxzdHJpbmcsIENsYXVkZUJhdGNoUmVzcG9uc2U+ID0ge1xuICAgICAgJy9zLyc6IHtcbiAgICAgICAgd29yZHM6IFtcbiAgICAgICAgICBcInN1blwiLCBcInNpdFwiLCBcInNvYXBcIiwgXCJzYXlcIiwgXCJzaXhcIiwgXCJzYW5kXCIsIFwic2F3XCIsIFwic2lwXCIsIFwic2VsbFwiLCBcInNpY2tcIixcbiAgICAgICAgICBcInNhZmVcIiwgXCJzYW1lXCIsIFwic2FkXCIsIFwic2FpbFwiLCBcInNhbHRcIiwgXCJzb2NrXCIsIFwic29mdFwiLCBcInNvdXBcIiwgXCJzZWVkXCIsIFwic2VhdFwiXG4gICAgICAgIF0sXG4gICAgICAgIG5vbnNlbnNlV29yZHM6IFtcbiAgICAgICAgICBcInNlYlwiLCBcInNpZ1wiLCBcInNvcFwiLCBcInN1dFwiLCBcInNla1wiLCBcInNpdlwiLCBcInNvbVwiLCBcInNhZlwiLCBcInN1dFwiLCBcInN5bVwiXG4gICAgICAgIF0sXG4gICAgICAgIHBocmFzZXM6IFtcbiAgICAgICAgICBcInNpeCBzdW5ueSBkYXlzXCIsXG4gICAgICAgICAgXCJzYWQgc2ljayBzYWlsb3JcIixcbiAgICAgICAgICBcInNpbHZlciBzYW5kIGNhc3RsZVwiLFxuICAgICAgICAgIFwic29mdCBzaWxrIHNjYXJmXCIsXG4gICAgICAgICAgXCJzZWNvbmQgc3VtbWVyIHN1bnNldFwiXG4gICAgICAgIF0sXG4gICAgICAgIHNlbnRlbmNlczogW1xuICAgICAgICAgIFwiU2FtIHNhdyBzaXggc2VhbHMgc3dpbW1pbmcuXCIsXG4gICAgICAgICAgXCJTYWxseSBzZWxscyBzZWFzaGVsbHMgYnkgdGhlIHNlYXNob3JlLlwiLFxuICAgICAgICAgIFwiVGhlIHN0dWRlbnQgc29sdmVkIHNldmVyYWwgc2NpZW5jZSBwcm9ibGVtcy5cIixcbiAgICAgICAgICBcIlNldmVuIHNpc3RlcnMgc2F0IHNpbGVudGx5LlwiLFxuICAgICAgICAgIFwiU3VzYW4gc2FuZyBzb25ncyBhdCB0aGUgY2VsZWJyYXRpb24uXCJcbiAgICAgICAgXSxcbiAgICAgICAgbmFycmF0aXZlOiBgPHA+T25jZSB1cG9uIGEgdGltZSwgdGhlcmUgd2FzIGEgPG1hcms+c2lsbHk8L21hcms+IDxtYXJrPnNuYWtlPC9tYXJrPiBuYW1lZCA8bWFyaz5TYW08L21hcms+LiA8bWFyaz5TYW08L21hcms+IGxvdmVkIHRvIDxtYXJrPnNsaXRoZXI8L21hcms+IHRocm91Z2ggdGhlIDxtYXJrPnNhbmQ8L21hcms+IG9uIDxtYXJrPnN1bm55PC9tYXJrPiBkYXlzLiBPbmUgZGF5LCA8bWFyaz5TYW08L21hcms+IDxtYXJrPnNwb3R0ZWQ8L21hcms+IGEgPG1hcms+c3BhcmtsaW5nPC9tYXJrPiA8bWFyaz5zdG9uZTwvbWFyaz4gaW4gdGhlIDxtYXJrPnNvaWw8L21hcms+LjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPlwiV2hhdCBhIDxtYXJrPnN1cnByaXNpbmc8L21hcms+IDxtYXJrPnNpZ2h0PC9tYXJrPiFcIiA8bWFyaz5zYWlkPC9tYXJrPiA8bWFyaz5TYW08L21hcms+LiBIZSA8bWFyaz5zbG93bHk8L21hcms+IDxtYXJrPnNsaWQ8L21hcms+IHRvd2FyZCB0aGUgPG1hcms+c2hpbnk8L21hcms+IG9iamVjdC4gV2hlbiBoZSBnb3QgY2xvc2VyLCBoZSA8bWFyaz5zYXc8L21hcms+IGl0IHdhcyBhIDxtYXJrPnNwZWNpYWw8L21hcms+IDxtYXJrPnNpbHZlcjwvbWFyaz4ga2V5LjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPjxtYXJrPlNhbTwvbWFyaz4gZGVjaWRlZCB0byA8bWFyaz5zZWFyY2g8L21hcms+IGZvciB3aGF0IHRoZSBrZXkgbWlnaHQgb3Blbi4gSGUgPG1hcms+c2xpdGhlcmVkPC9tYXJrPiB0aHJvdWdoIHRoZSA8bWFyaz5zb2Z0PC9tYXJrPiBncmFzcywgcGFzdCBhIDxtYXJrPnNtYWxsPC9tYXJrPiBwb25kLCBhbmQgdXAgYSA8bWFyaz5zdGVlcDwvbWFyaz4gaGlsbC4gQXQgdGhlIHRvcCwgaGUgZm91bmQgYSA8bWFyaz5zdHJhbmdlPC9tYXJrPiBsaXR0bGUgYm94IHdpdGggYSA8bWFyaz5zaWx2ZXI8L21hcms+IGxvY2suPC9wPlxuICAgICAgICBcbiAgICAgICAgPHA+V2hlbiA8bWFyaz5TYW08L21hcms+IHVzZWQgdGhlIGtleSwgdGhlIGJveCBvcGVuZWQgdG8gcmV2ZWFsIGEgPG1hcms+c3R1bm5pbmc8L21hcms+IG1hcCBsZWFkaW5nIHRvIGEgPG1hcms+c2VjcmV0PC9tYXJrPiBnYXJkZW4gZmlsbGVkIHdpdGggdGhlIDxtYXJrPnN3ZWV0ZXN0PC9tYXJrPiBiZXJyaWVzIGEgPG1hcms+c25ha2U8L21hcms+IGNvdWxkIGV2ZXIgdGFzdGUuIEZyb20gdGhhdCBkYXkgb24sIDxtYXJrPlNhbTwvbWFyaz4gd291bGQgPG1hcms+c21pbGU8L21hcms+IHdoZW5ldmVyIGhlIHRob3VnaHQgYWJvdXQgaGlzIDxtYXJrPnNwZWNpYWw8L21hcms+IGRpc2NvdmVyeS48L3A+YFxuICAgICAgfSxcbiAgICAgICcvci8nOiB7XG4gICAgICAgIHdvcmRzOiBbXG4gICAgICAgICAgXCJyZWRcIiwgXCJydW5cIiwgXCJyb2FkXCIsIFwicmFpblwiLCBcInJlYWRcIiwgXCJyb29tXCIsIFwicm9ja1wiLCBcInJ1Z1wiLCBcInJpY2VcIiwgXCJyb3BlXCIsXG4gICAgICAgICAgXCJyaWdodFwiLCBcIndyaXRlXCIsIFwicmFkaW9cIiwgXCJyb2JvdFwiLCBcInJhY2VcIiwgXCJyb3VuZFwiLCBcInJhYmJpdFwiLCBcInJpbmdcIiwgXCJyb3NlXCIsIFwicml2ZXJcIlxuICAgICAgICBdLFxuICAgICAgICBub25zZW5zZVdvcmRzOiBbXG4gICAgICAgICAgXCJyYWJcIiwgXCJyaW5cIiwgXCJyb3BcIiwgXCJydXRcIiwgXCJyZWtcIiwgXCJyaXZcIiwgXCJyb21cIiwgXCJyYWZcIiwgXCJydXRcIiwgXCJyeW1cIlxuICAgICAgICBdLFxuICAgICAgICBwaHJhc2VzOiBbXG4gICAgICAgICAgXCJyZWQgcmFjaW5nIGNhclwiLFxuICAgICAgICAgIFwicnVubmluZyByYWJiaXQgZmFzdFwiLFxuICAgICAgICAgIFwicm91Z2ggcm9ja3kgcm9hZFwiLFxuICAgICAgICAgIFwicm91bmQgcnViYmVyIGJhbGxcIixcbiAgICAgICAgICBcInJveWFsIHJ1YnkgcmluZ1wiXG4gICAgICAgIF0sXG4gICAgICAgIHNlbnRlbmNlczogW1xuICAgICAgICAgIFwiVGhlIHJhYmJpdCByYW4gYXJvdW5kIHRoZSByb2NreSByb2FkLlwiLFxuICAgICAgICAgIFwiUnlhbiB3cm90ZSBhIHJlcG9ydCBhYm91dCByYWNpbmcgY2Fycy5cIixcbiAgICAgICAgICBcIlRoZSByaXZlciBydW5zIHRocm91Z2ggdGhlIHJ1cmFsIHJlZ2lvbi5cIixcbiAgICAgICAgICBcIlJhY2hlbCByZWFkIGhlciBmYXZvcml0ZSByYWluYm93IHN0b3J5LlwiLFxuICAgICAgICAgIFwiVGhlIHJvYm90IHJvbGxlZCByaWdodCBhY3Jvc3MgdGhlIHJvb20uXCJcbiAgICAgICAgXSxcbiAgICAgICAgbmFycmF0aXZlOiBgPHA+T25jZSB0aGVyZSB3YXMgYSBsaXR0bGUgPG1hcms+cmFiYml0PC9tYXJrPiBuYW1lZCA8bWFyaz5SdWJ5PC9tYXJrPi4gPG1hcms+UnVieTwvbWFyaz4gbG92ZWQgdG8gPG1hcms+cnVuPC9tYXJrPiB0aHJvdWdoIHRoZSBmb3Jlc3QgYW5kIHBsYXkgbmVhciB0aGUgPG1hcms+cml2ZXI8L21hcms+LiBPbmUgPG1hcms+cmFpbnk8L21hcms+IGRheSwgPG1hcms+UnVieTwvbWFyaz4gZm91bmQgYSA8bWFyaz5yZWQ8L21hcms+IHVtYnJlbGxhIGxlYW5pbmcgYWdhaW5zdCBhIDxtYXJrPnJvY2s8L21hcms+LjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwPlwiSSB3b25kZXIgd2hvIGxlZnQgdGhpcyBoZXJlLFwiIDxtYXJrPlJ1Ynk8L21hcms+IHNhaWQgd2l0aCBjdXJpb3NpdHkuIFRoZSA8bWFyaz5yYWluPC9tYXJrPiB3YXMgZmFsbGluZyBoYXJkLCBtYWtpbmcgbGl0dGxlIDxtYXJrPnJpcHBsZXM8L21hcms+IGluIHB1ZGRsZXMgYWxsIGFyb3VuZC4gPG1hcms+UnVieTwvbWFyaz4gZGVjaWRlZCB0byB1c2UgdGhlIHVtYnJlbGxhIHRvIHN0YXkgZHJ5IGFzIHNoZSA8bWFyaz5yYWNlZDwvbWFyaz4gYmFjayBob21lIGFsb25nIHRoZSA8bWFyaz5yb2NreTwvbWFyaz4gcGF0aC48L3A+XG4gICAgICAgIFxuICAgICAgICA8cD5PbiBoZXIgd2F5LCA8bWFyaz5SdWJ5PC9tYXJrPiBtZXQgYSA8bWFyaz5yb2JvdDwvbWFyaz4gd2hvIHdhcyBnZXR0aW5nIGFsbCB3ZXQgaW4gdGhlIDxtYXJrPnJhaW48L21hcms+LiBcIldvdWxkIHlvdSBsaWtlIHRvIHNoYXJlIG15IHVtYnJlbGxhP1wiIDxtYXJrPlJ1Ynk8L21hcms+IGFza2VkIGtpbmRseS4gVGhlIDxtYXJrPnJvYm90PC9tYXJrPiwgd2hvc2UgbmFtZSB3YXMgPG1hcms+UmV4PC9tYXJrPiwgd2FzIHZlcnkgZ3JhdGVmdWwuIFRvZ2V0aGVyIHRoZXkgd2Fsa2VkIGRvd24gdGhlIDxtYXJrPnJvYWQ8L21hcms+LCB0YWxraW5nIGFib3V0IHRoZWlyIGZhdm9yaXRlIHRoaW5ncy48L3A+XG4gICAgICAgIFxuICAgICAgICA8cD48bWFyaz5SdWJ5PC9tYXJrPiBhbmQgPG1hcms+UmV4PC9tYXJrPiBiZWNhbWUgZ29vZCBmcmllbmRzIGFmdGVyIHRoYXQgPG1hcms+cmFpbnk8L21hcms+IGRheS4gVGhleSB3b3VsZCBvZnRlbiBtZWV0IGJ5IHRoZSA8bWFyaz5yaXZlcjwvbWFyaz4sIHNraXAgPG1hcms+cm9ja3M8L21hcms+LCBhbmQgPG1hcms+cmVhZDwvbWFyaz4gc3RvcmllcyB0b2dldGhlci4gU29tZXRpbWVzIHRoZXkgd291bGQganVzdCBzaXQgcXVpZXRseSBhbmQgd2F0Y2ggdGhlIDxtYXJrPnJhaW5ib3dzPC9tYXJrPiB0aGF0IGFwcGVhcmVkIGFmdGVyIHRoZSA8bWFyaz5yYWluPC9tYXJrPiwgbWFraW5nIHRoZSB3aG9sZSBmb3Jlc3QgZ2xvdyB3aXRoIGJlYXV0aWZ1bCBjb2xvcnMuPC9wPmBcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gR2V0IHJlc3BvbnNlIGJhc2VkIG9uIHRhcmdldCBzb3VuZCBvciB1c2UgL3MvIGFzIGRlZmF1bHRcbiAgICBjb25zdCByZXNwb25zZSA9IG1vY2tSZXNwb25zZXNbdGFyZ2V0U291bmRdIHx8IG1vY2tSZXNwb25zZXNbJy9zLyddO1xuXG4gICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCByZXR1cm4gdGhlIGRhdGEgZnJvbSB0aGUgQ2xhdWRlIEFQSSByZXNwb25zZVxuICAgIHJldHVybiB7XG4gICAgICByZWFsV29yZHM6IHJlc3BvbnNlLndvcmRzLFxuICAgICAgbm9uc2Vuc2VXb3JkczogcmVzcG9uc2Uubm9uc2Vuc2VXb3JkcyxcbiAgICAgIHBocmFzZXM6IHJlc3BvbnNlLnBocmFzZXMsXG4gICAgICBzZW50ZW5jZXM6IHJlc3BvbnNlLnNlbnRlbmNlcyxcbiAgICAgIG5hcnJhdGl2ZTogcmVzcG9uc2UubmFycmF0aXZlLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyB3b3JkIGxpc3Q6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgbmFycmF0aXZlIGJhc2VkIG9uIHNwZWNpZmllZCB2b2NhYnVsYXJ5IGFuZCBkZXZlbG9wbWVudGFsIGxldmVsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU5hcnJhdGl2ZSh7XG4gIG5hcnJhdGl2ZUxldmVsLFxuICB0YXJnZXRWb2NhYnVsYXJ5ID0gW10sXG4gIHRhcmdldEdyYW1tYXIsXG4gIHN0dWRlbnRBZ2UgPSA4LFxuICBzdHVkZW50TmFtZSA9IFwiXCIsXG4gIGluY2x1ZGVCYXJyZXR0UXVlc3Rpb25zID0gdHJ1ZSxcbiAgaW5jbHVkZVByZVJlYWRpbmdBY3Rpdml0aWVzID0gdHJ1ZSxcbiAgZ2VuZXJhdGVJbWFnZXMgPSBmYWxzZSxcbiAgY29uc2lzdGVudEltYWdlU3R5bGUgPSB0cnVlLFxuICBzdG9yeUdyYW1tYXIgPSB7fVxufTogTmFycmF0aXZlR2VuZXJhdGlvbk9wdGlvbnMpOiBQcm9taXNlPHtcbiAgbmFycmF0aXZlOiBzdHJpbmc7XG4gIHZvY2FidWxhcnk/OiBBcnJheTx7d29yZDogc3RyaW5nLCBkZWZpbml0aW9uOiBzdHJpbmcsIGV4YW1wbGVTZW50ZW5jZTogc3RyaW5nfT47XG4gIHByZVJlYWRpbmdBY3Rpdml0aWVzPzogc3RyaW5nO1xuICBjb21wcmVoZW5zaW9uUXVlc3Rpb25zPzogQXJyYXk8e3F1ZXN0aW9uOiBzdHJpbmcsIGxldmVsOiBzdHJpbmcsIHNhbXBsZUFuc3dlcjogc3RyaW5nfT47XG4gIGltYWdlUHJvbXB0cz86IEFycmF5PHtkZXNjcmlwdGlvbjogc3RyaW5nLCBzY2VuZUNvbnRleHQ6IHN0cmluZ30+O1xuICBncmFtbWFyRXhhbXBsZXM/OiBBcnJheTx7c2VudGVuY2U6IHN0cmluZywgZXhwbGFuYXRpb246IHN0cmluZ30+O1xufT4ge1xuICB0cnkge1xuICAgIC8vIERldGVybWluZSBhcHByb3ByaWF0ZSBuYXJyYXRpdmUgY29tcGxleGl0eSBiYXNlZCBvbiBuYXJyYXRpdmUgbGV2ZWxcbiAgICBjb25zdCBuYXJyYXRpdmVEZXNjcmlwdGlvbnMgPSB7XG4gICAgICBoZWFwczogXCJTaW1wbGUgY29sbGVjdGlvbiBvZiB1bnJlbGF0ZWQgaWRlYXMgd2l0aCBubyBwbG90IG9yIG9yZ2FuaXphdGlvbiAoMi0zIHllYXJzIGRldmVsb3BtZW50IGxldmVsKVwiLFxuICAgICAgc2VxdWVuY2VzOiBcIlJlbGF0ZWQgZXZlbnRzIGFyb3VuZCBhIGNlbnRyYWwgdG9waWMgYnV0IGxhY2tpbmcgY2F1c2FsIHJlbGF0aW9uc2hpcHMsIG1heSBpbmNsdWRlIHRlbXBvcmFsIG9yZGVyICgzIHllYXJzIGRldmVsb3BtZW50IGxldmVsKVwiLFxuICAgICAgcHJpbWl0aXZlX25hcnJhdGl2ZXM6IFwiSGFzIGEgY2VudHJhbCBwZXJzb24sIG9iamVjdCwgb3IgZXZlbnQgd2l0aCBhY3Rpb25zIGFuZCBmZWVsaW5ncywgYnV0IG5vIGNsZWFyIGNhdXNlL2VmZmVjdCAoNCB5ZWFycyBkZXZlbG9wbWVudCBsZXZlbClcIixcbiAgICAgIGNoYWluX25hcnJhdGl2ZXM6IFwiRXZlbnRzIGxpbmtlZCBieSBjYXVzZSBhbmQgZWZmZWN0IG9yIHRpbWUsIGJ1dCBubyBjbGVhciBnb2FsLWRpcmVjdGVkIGJlaGF2aW9yICg1IHllYXJzIGRldmVsb3BtZW50IGxldmVsKVwiLFxuICAgICAgZm9jdXNlZF9jaGFpbnM6IFwiRXZlbnRzIHJldm9sdmUgYXJvdW5kIGEgcHJvYmxlbSBhbmQgYSBnb2FsLCBtYXkgaGF2ZSBhIGJhc2ljIHBsYW4gYnV0IGxhY2tzIGZ1bGwgcmVzb2x1dGlvbiAoNS02IHllYXJzIGRldmVsb3BtZW50IGxldmVsKVwiLFxuICAgICAgdHJ1ZV9uYXJyYXRpdmVzOiBcIkNvbXBsZXRlIHN0b3J5IHdpdGggYWxsIGVzc2VudGlhbCBlbGVtZW50czogc2V0dGluZywgY2hhcmFjdGVycywgcHJvYmxlbSwgcGxhbiwgYWN0aW9ucywgb3V0Y29tZSwgcmVzb2x1dGlvbiAoNi03KyB5ZWFycyBkZXZlbG9wbWVudCBsZXZlbClcIlxuICAgIH07XG5cbiAgICAvLyBQcmVwYXJlIHN5c3RlbSBwcm9tcHQgZm9yIG5hcnJhdGl2ZSBnZW5lcmF0aW9uXG4gICAgbGV0IHN5c3RlbVByb21wdCA9IGBcbiAgICAgIFlvdSBhcmUgYSBzcGVlY2gtbGFuZ3VhZ2UgcGF0aG9sb2dpc3QgYXNzaXN0YW50IHNwZWNpYWxpemVkIGluIGNyZWF0aW5nIGRldmVsb3BtZW50YWxseSBhcHByb3ByaWF0ZSBuYXJyYXRpdmVzIGZvciBjaGlsZHJlbi5cbiAgICAgIFxuICAgICAgSSBuZWVkIHlvdSB0byBnZW5lcmF0ZSBhIG5hcnJhdGl2ZSBzdG9yeSBmb3IgYSAke3N0dWRlbnRBZ2V9LXllYXItb2xkJHtzdHVkZW50TmFtZSA/IGAgbmFtZWQgJHtzdHVkZW50TmFtZX1gIDogJyd9IGF0IHRoZSBcIiR7bmFycmF0aXZlTGV2ZWx9XCIgZGV2ZWxvcG1lbnRhbCBsZXZlbCwgd2hpY2ggbWVhbnM6ICR7bmFycmF0aXZlRGVzY3JpcHRpb25zW25hcnJhdGl2ZUxldmVsXX1cbiAgICBgO1xuXG4gICAgLy8gQWRkIHRhcmdldCB2b2NhYnVsYXJ5IG9yIGdyYW1tYXIgZmVhdHVyZSB0byB0aGUgcHJvbXB0XG4gICAgaWYgKHRhcmdldFZvY2FidWxhcnkgJiYgdGFyZ2V0Vm9jYWJ1bGFyeS5sZW5ndGggPiAwKSB7XG4gICAgICBzeXN0ZW1Qcm9tcHQgKz0gYFxuICAgICAgXG4gICAgICBUaGUgbmFycmF0aXZlIG11c3QgaW5jb3Jwb3JhdGUgdGhlIGZvbGxvd2luZyB0YXJnZXQgdm9jYWJ1bGFyeSB3b3JkczpcbiAgICAgICR7dGFyZ2V0Vm9jYWJ1bGFyeS5qb2luKCcsICcpfVxuICAgICAgXG4gICAgICBQbGVhc2UgaGlnaGxpZ2h0IGVhY2ggdGFyZ2V0IHZvY2FidWxhcnkgd29yZCBpbiB0aGUgbmFycmF0aXZlIGJ5IHBsYWNpbmcgaXQgd2l0aGluIDxtYXJrPjwvbWFyaz4gdGFncy5cbiAgICAgIFxuICAgICAgRm9yIGVhY2ggdGFyZ2V0IHZvY2FidWxhcnkgd29yZCwgcGxlYXNlIHByb3ZpZGU6XG4gICAgICAxLiBBIGNoaWxkLWZyaWVuZGx5IGRlZmluaXRpb25cbiAgICAgIDIuIEFuIGV4YW1wbGUgc2VudGVuY2Ugc2hvd2luZyB0aGUgd29yZCBpbiBjb250ZXh0IChkaWZmZXJlbnQgZnJvbSBob3cgaXQncyB1c2VkIGluIHRoZSBuYXJyYXRpdmUpXG4gICAgICBgO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0R3JhbW1hcikge1xuICAgICAgc3lzdGVtUHJvbXB0ICs9IGBcbiAgICAgIFxuICAgICAgVGhlIG5hcnJhdGl2ZSBtdXN0IGVtcGhhc2l6ZSB0aGUgZm9sbG93aW5nIGdyYW1tYXIgZmVhdHVyZTogJHt0YXJnZXRHcmFtbWFyLnJlcGxhY2UoJ18nLCAnICcpfVxuICAgICAgXG4gICAgICBQbGVhc2UgaGlnaGxpZ2h0IGV4YW1wbGVzIG9mIHRoaXMgZ3JhbW1hciBmZWF0dXJlIGluIHRoZSBuYXJyYXRpdmUgYnkgcGxhY2luZyB0aGVtIHdpdGhpbiA8bWFyaz48L21hcms+IHRhZ3MuXG4gICAgICBcbiAgICAgIEFsc28gcHJvdmlkZSA1LTcgZXhhbXBsZSBzZW50ZW5jZXMgdXNpbmcgdGhpcyBncmFtbWFyIGZlYXR1cmUgd2l0aCBicmllZiBleHBsYW5hdGlvbnMgb2YgaG93IHRoZSBmZWF0dXJlIGlzIHVzZWQgaW4gZWFjaCBzZW50ZW5jZS5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgLy8gQWRkIHN0b3J5IGdyYW1tYXIgZWxlbWVudHMgZm9yIHRydWUgbmFycmF0aXZlc1xuICAgIGlmIChuYXJyYXRpdmVMZXZlbCA9PT0gJ3RydWVfbmFycmF0aXZlcycgJiYgT2JqZWN0LmtleXMoc3RvcnlHcmFtbWFyKS5sZW5ndGggPiAwKSB7XG4gICAgICBzeXN0ZW1Qcm9tcHQgKz0gYFxuICAgICAgXG4gICAgICBQbGVhc2UgaW5jb3Jwb3JhdGUgdGhlIGZvbGxvd2luZyBzdG9yeSBlbGVtZW50cyBpbiB5b3VyIG5hcnJhdGl2ZTpcbiAgICAgICR7T2JqZWN0LmVudHJpZXMoc3RvcnlHcmFtbWFyKVxuICAgICAgICAuZmlsdGVyKChbXywgdmFsdWVdKSA9PiB2YWx1ZSAmJiB2YWx1ZS50cmltKCkgIT09ICcnKVxuICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAtICR7a2V5fTogJHt2YWx1ZX1gKVxuICAgICAgICAuam9pbignXFxuJyl9XG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIEFkZCBvdGhlciByZXF1ZXN0ZWQgZWxlbWVudHNcbiAgICBpZiAoaW5jbHVkZVByZVJlYWRpbmdBY3Rpdml0aWVzKSB7XG4gICAgICBzeXN0ZW1Qcm9tcHQgKz0gYFxuICAgICAgXG4gICAgICBBbHNvIGluY2x1ZGUgMy01IHByZS1yZWFkaW5nIGFjdGl2aXRpZXMgdGhhdCB3aWxsIHByZXBhcmUgc3R1ZGVudHMgZm9yIHRoZSBuYXJyYXRpdmUsIHN1Y2ggYXM6XG4gICAgICAtIFBpY3R1cmUgd2FsayBzdWdnZXN0aW9uc1xuICAgICAgLSBWb2NhYnVsYXJ5IHByZXZpZXcgYWN0aXZpdGllc1xuICAgICAgLSBQcmVkaWN0aW9uIGV4ZXJjaXNlc1xuICAgICAgLSBCYWNrZ3JvdW5kIGtub3dsZWRnZSBhY3RpdmF0aW9uXG4gICAgICBgO1xuICAgIH1cblxuICAgIGlmIChpbmNsdWRlQmFycmV0dFF1ZXN0aW9ucykge1xuICAgICAgc3lzdGVtUHJvbXB0ICs9IGBcbiAgICAgIFxuICAgICAgJHtCQVJSRVRUU19UQVhPTk9NWV9ERVNDUklQVElPTn1cbiAgICAgIFxuICAgICAgUGxlYXNlIGluY2x1ZGUgMS0yIGNvbXByZWhlbnNpb24gcXVlc3Rpb25zIGZvciBlYWNoIGxldmVsIG9mIEJhcnJldHQncyBUYXhvbm9teSwgd2l0aCBzYW1wbGUgYW5zd2VycyBmb3IgZWFjaC5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgLy8gQWRkIGltYWdlIGdlbmVyYXRpb24gaW5zdHJ1Y3Rpb25zIGlmIHJlcXVlc3RlZFxuICAgIGlmIChnZW5lcmF0ZUltYWdlcykge1xuICAgICAgc3lzdGVtUHJvbXB0ICs9IGBcbiAgICAgIFxuICAgICAgQWRkaXRpb25hbGx5LCBwcm92aWRlIDMtNSBpbWFnZSBnZW5lcmF0aW9uIHByb21wdHMgdGhhdCB3b3VsZCBpbGx1c3RyYXRlIGtleSBzY2VuZXMgZnJvbSB0aGUgbmFycmF0aXZlLlxuICAgICAgRm9yIGVhY2ggaW1hZ2UgcHJvbXB0LCBpbmNsdWRlOlxuICAgICAgMS4gQSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBmb3IgREFMTC1FIHRvIGdlbmVyYXRlIHRoZSBpbWFnZVxuICAgICAgMi4gVGhlIGNvbnRleHQgb2YgdGhlIHNjZW5lIGluIHRoZSBzdG9yeVxuICAgICAgXG4gICAgICAke2NvbnNpc3RlbnRJbWFnZVN0eWxlID8gJ1ZlcnkgaW1wb3J0YW50OiBFbnN1cmUgdGhhdCBjaGFyYWN0ZXJzIGFuZCBzZXR0aW5ncyBtYWludGFpbiBjb25zaXN0ZW50IGFwcGVhcmFuY2UgYWNyb3NzIGFsbCBpbWFnZSBwcm9tcHRzLiBEZXNjcmliZSB0aGUgY2hhcmFjdGVyIGRlc2lnbnMgYW5kIHNldHRpbmdzIGluIGRldGFpbCB0byBtYWludGFpbiBjb25zaXN0ZW5jeS4nIDogJyd9XG4gICAgICBgO1xuICAgIH1cblxuICAgIHN5c3RlbVByb21wdCArPSBgXG4gICAgXG4gICAgUmV0dXJuIHlvdXIgcmVzcG9uc2UgaW4gYSBzdHJ1Y3R1cmVkIGZvcm1hdCB3aXRoIHNlcGFyYXRlIHNlY3Rpb25zIGZvciB0aGUgbmFycmF0aXZlLCAke3RhcmdldFZvY2FidWxhcnkgJiYgdGFyZ2V0Vm9jYWJ1bGFyeS5sZW5ndGggPiAwID8gJ3ZvY2FidWxhcnkgZGVmaW5pdGlvbnMnIDogJ2dyYW1tYXIgZXhhbXBsZXMnfSwgJHtpbmNsdWRlUHJlUmVhZGluZ0FjdGl2aXRpZXMgPyAncHJlLXJlYWRpbmcgYWN0aXZpdGllcywnIDogJyd9ICR7aW5jbHVkZUJhcnJldHRRdWVzdGlvbnMgPyAnY29tcHJlaGVuc2lvbiBxdWVzdGlvbnMsJyA6ICcnfSAke2dlbmVyYXRlSW1hZ2VzID8gJ2FuZCBpbWFnZSBwcm9tcHRzLicgOiAnLid9XG4gICAgYDtcblxuICAgIC8vIEluIGEgcmVhbCBpbXBsZW1lbnRhdGlvbiwgeW91IHdvdWxkIG1ha2UgYW4gQVBJIGNhbGwgdG8gQ2xhdWRlIGhlcmVcbiAgICAvLyBGb3IgdGhpcyBleGFtcGxlLCB3ZSdsbCBtb2NrIGEgcmVzcG9uc2UgYmFzZWQgb24gdGhlIHBhcmFtZXRlcnNcblxuICAgIC8vIFNhbXBsZSB2b2NhYnVsYXJ5IGRlZmluaXRpb25zIGZvciB0YXJnZXQgdm9jYWJ1bGFyeSBhcHByb2FjaFxuICAgIGNvbnN0IHZvY2FidWxhcnlEZWZpbml0aW9ucyA9IHRhcmdldFZvY2FidWxhcnkgJiYgdGFyZ2V0Vm9jYWJ1bGFyeS5sZW5ndGggPiAwIFxuICAgICAgPyB0YXJnZXRWb2NhYnVsYXJ5Lm1hcCh3b3JkID0+IHtcbiAgICAgICAgICBjb25zdCBtb2NrRGVmaW5pdGlvbnM6IFJlY29yZDxzdHJpbmcsIHtkZWZpbml0aW9uOiBzdHJpbmcsIGV4YW1wbGU6IHN0cmluZ30+ID0ge1xuICAgICAgICAgICAgXCJhZHZlbnR1cmVcIjoge1xuICAgICAgICAgICAgICBkZWZpbml0aW9uOiBcIkFuIGV4Y2l0aW5nIGV4cGVyaWVuY2UgdGhhdCBtaWdodCBiZSBhIGxpdHRsZSBkYW5nZXJvdXMgb3IgdGFrZSB5b3UgdG8gbmV3IHBsYWNlc1wiLFxuICAgICAgICAgICAgICBleGFtcGxlOiBcIkdvaW5nIGNhbXBpbmcgaW4gdGhlIG1vdW50YWlucyB3YXMgcXVpdGUgYW4gYWR2ZW50dXJlIGZvciB0aGUgZmFtaWx5LlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJmb3Jlc3RcIjoge1xuICAgICAgICAgICAgICBkZWZpbml0aW9uOiBcIkEgbGFyZ2UgYXJlYSBjb3ZlcmVkIHdpdGggdHJlZXMgYW5kIHBsYW50c1wiLFxuICAgICAgICAgICAgICBleGFtcGxlOiBcIldlIHRvb2sgYSBoaWtlIHRocm91Z2ggdGhlIGZvcmVzdCBhbmQgc2F3IG1hbnkgZGlmZmVyZW50IGFuaW1hbHMuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImRpc2NvdmVyXCI6IHtcbiAgICAgICAgICAgICAgZGVmaW5pdGlvbjogXCJUbyBmaW5kIHNvbWV0aGluZyBmb3IgdGhlIGZpcnN0IHRpbWUgb3IgbGVhcm4gc29tZXRoaW5nIG5ld1wiLFxuICAgICAgICAgICAgICBleGFtcGxlOiBcIlRoZSBzY2llbnRpc3RzIHdlcmUgZXhjaXRlZCB0byBkaXNjb3ZlciBhIG5ldyB0eXBlIG9mIGJ1dHRlcmZseS5cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiY3VyaW91c1wiOiB7XG4gICAgICAgICAgICAgIGRlZmluaXRpb246IFwiV2FudGluZyB0byBrbm93IG9yIGxlYXJuIGFib3V0IHNvbWV0aGluZ1wiLFxuICAgICAgICAgICAgICBleGFtcGxlOiBcIlRoZSBjdXJpb3VzIHB1cHB5IHNuaWZmZWQgZXZlcnl0aGluZyBpbiB0aGUgbmV3IGhvdXNlLlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJ0cmVhc3VyZVwiOiB7XG4gICAgICAgICAgICAgIGRlZmluaXRpb246IFwiU29tZXRoaW5nIHZhbHVhYmxlIG9yIHByZWNpb3VzIGxpa2UgZ29sZCBvciBqZXdlbHNcIixcbiAgICAgICAgICAgICAgZXhhbXBsZTogXCJUaGUgcGlyYXRlcyBidXJpZWQgdGhlaXIgdHJlYXN1cmUgb24gYSBkZXNlcnRlZCBpc2xhbmQuXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3b3JkLFxuICAgICAgICAgICAgZGVmaW5pdGlvbjogbW9ja0RlZmluaXRpb25zW3dvcmRdPy5kZWZpbml0aW9uIHx8IGBBIHdvcmQgdGhhdCBtZWFucyAke3dvcmR9YCxcbiAgICAgICAgICAgIGV4YW1wbGVTZW50ZW5jZTogbW9ja0RlZmluaXRpb25zW3dvcmRdPy5leGFtcGxlIHx8IGBIZXJlIGlzIGFuIGV4YW1wbGUgdXNpbmcgdGhlIHdvcmQgJHt3b3JkfS5gXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gU2FtcGxlIGdyYW1tYXIgZXhhbXBsZXMgZm9yIHRhcmdldCBncmFtbWFyIGFwcHJvYWNoXG4gICAgY29uc3QgZ3JhbW1hckV4YW1wbGVzID0gdGFyZ2V0R3JhbW1hclxuICAgICAgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2VudGVuY2U6IFwiWWVzdGVyZGF5LCBJIHdhbGtlZCB0byB0aGUgc3RvcmUgYW5kIGJvdWdodCBzb21lIGdyb2Nlcmllcy5cIixcbiAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlVzZXMgcmVndWxhciBwYXN0IHRlbnNlIHZlcmIgJ3dhbGtlZCcgd2l0aCAtZWQgZW5kaW5nIGFuZCBpcnJlZ3VsYXIgcGFzdCB0ZW5zZSAnYm91Z2h0Jy5cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2VudGVuY2U6IFwiTGFzdCB3ZWVrLCBzaGUgc2F3IGEgbW92aWUgdGhhdCBzaGUgcmVhbGx5IGVuam95ZWQuXCIsXG4gICAgICAgICAgICBleHBsYW5hdGlvbjogXCJVc2VzIGlycmVndWxhciBwYXN0IHRlbnNlIHZlcmJzICdzYXcnIGFuZCAnZW5qb3llZCcgdG8gZGVzY3JpYmUgY29tcGxldGVkIGFjdGlvbnMuXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNlbnRlbmNlOiBcIlRoZSBjaGlsZHJlbiBwbGF5ZWQgaW4gdGhlIHBhcmsgdW50aWwgaXQgc3RhcnRlZCB0byByYWluLlwiLFxuICAgICAgICAgICAgZXhwbGFuYXRpb246IFwiVXNlcyByZWd1bGFyIHBhc3QgdGVuc2UgJ3BsYXllZCcgYW5kICdzdGFydGVkJyB0byBkZXNjcmliZSBzZXF1ZW5jZSBvZiBldmVudHMuXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNlbnRlbmNlOiBcIlRoZXkgYnVpbHQgYSBzYW5kY2FzdGxlIHRoYXQgd2FzIHRhbGxlciB0aGFuIGFueW9uZSBleHBlY3RlZC5cIixcbiAgICAgICAgICAgIGV4cGxhbmF0aW9uOiBcIlVzZXMgaXJyZWd1bGFyIHBhc3QgdGVuc2UgJ2J1aWx0JyBhbmQgJ3dhcycgZm9yIGRlc2NyaWJpbmcgcGFzdCBjcmVhdGlvbiBhbmQgc3RhdGUuXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNlbnRlbmNlOiBcIldoZW4gSSBhcnJpdmVkLCB0aGUgcGFydHkgaGFkIGFscmVhZHkgZW5kZWQuXCIsXG4gICAgICAgICAgICBleHBsYW5hdGlvbjogXCJVc2VzIHBhc3QgcGVyZmVjdCAnaGFkIGVuZGVkJyB0byBzaG93IGFuIGFjdGlvbiBjb21wbGV0ZWQgYmVmb3JlIGFub3RoZXIgcGFzdCBhY3Rpb24uXCJcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gU2FtcGxlIG5hcnJhdGl2ZSBiYXNlZCBvbiBsZXZlbCwgdm9jYWJ1bGFyeS9ncmFtbWFyLCBhbmQgc3RvcnkgZ3JhbW1hciBlbGVtZW50c1xuICAgIGxldCBtb2NrTmFycmF0aXZlID0gXCJcIjtcbiAgICBcbiAgICBzd2l0Y2gobmFycmF0aXZlTGV2ZWwpIHtcbiAgICAgIGNhc2UgJ3NlcXVlbmNlcyc6XG4gICAgICAgIG1vY2tOYXJyYXRpdmUgPSBgPHA+V2Ugd2VudCB0byB0aGUgPG1hcms+Zm9yZXN0PC9tYXJrPi4gV2UgaGFkIGFuIDxtYXJrPmFkdmVudHVyZTwvbWFyaz4uIEkgd2FzIDxtYXJrPmN1cmlvdXM8L21hcms+LiBJIDxtYXJrPmRpc2NvdmVyZWQ8L21hcms+IGEgYm94LiBUaGUgYm94IGhhZCA8bWFyaz50cmVhc3VyZTwvbWFyaz4uIFdlIHdlbnQgaG9tZS4gV2UgYXRlIGRpbm5lci48L3A+YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwcmltaXRpdmVfbmFycmF0aXZlcyc6XG4gICAgICAgIG1vY2tOYXJyYXRpdmUgPSBgPHA+SmFtaWUgd2VudCB0byB0aGUgPG1hcms+Zm9yZXN0PC9tYXJrPi4gSmFtaWUgd2FzIDxtYXJrPmN1cmlvdXM8L21hcms+IGFib3V0IHRoZSBzb3VuZHMuIEphbWllIGhhZCBhbiA8bWFyaz5hZHZlbnR1cmU8L21hcms+IHdpdGggYSBzcXVpcnJlbC4gSmFtaWUgPG1hcms+ZGlzY292ZXJlZDwvbWFyaz4gYSBzaGlueSByb2NrLiBUaGUgcm9jayB3YXMgbGlrZSBhIDxtYXJrPnRyZWFzdXJlPC9tYXJrPi4gSmFtaWUgd2FzIGhhcHB5LjwvcD5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NoYWluX25hcnJhdGl2ZXMnOlxuICAgICAgICBtb2NrTmFycmF0aXZlID0gYDxwPkFuYSB3ZW50IG9uIGFuIDxtYXJrPmFkdmVudHVyZTwvbWFyaz4gdG8gdGhlIDxtYXJrPmZvcmVzdDwvbWFyaz4uIFNoZSB3YXMgPG1hcms+Y3VyaW91czwvbWFyaz4gYWJvdXQgdGhlIG9sZCB0cmVlLiBTaGUgbG9va2VkIGluc2lkZSBhIGhvbGUgaW4gdGhlIHRyZWUuIFNoZSA8bWFyaz5kaXNjb3ZlcmVkPC9tYXJrPiBhIGJveC4gVGhlIGJveCBoYWQgYSA8bWFyaz50cmVhc3VyZTwvbWFyaz4gaW5zaWRlLiBJdCB3YXMgYSBwcmV0dHkgcm9jay4gQW5hIHdhcyBoYXBweSB0byBmaW5kIGl0LjwvcD5gO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZvY3VzZWRfY2hhaW5zJzpcbiAgICAgICAgbW9ja05hcnJhdGl2ZSA9IGA8cD5NYXggd2FudGVkIHRvIGhhdmUgYW4gPG1hcms+YWR2ZW50dXJlPC9tYXJrPiBpbiB0aGUgPG1hcms+Zm9yZXN0PC9tYXJrPiBuZWFyIGhpcyBob3VzZS4gSGUgd2FzIDxtYXJrPmN1cmlvdXM8L21hcms+IGFib3V0IHdoYXQgd2FzIGJlaGluZCB0aGUgYmlnIHJvY2suIEhlIGNsaW1iZWQgb3ZlciB0aGUgcm9jayBhbmQgPG1hcms+ZGlzY292ZXJlZDwvbWFyaz4gYSBoaWRkZW4gcGF0aC4gTWF4IGZvbGxvd2VkIHRoZSBwYXRoIHRvIHNlZSB3aGVyZSBpdCBsZWQuIEhlIGZvdW5kIGFuIG9sZCB0cmVlIHdpdGggYSBob2xlIGluIGl0LiBJbnNpZGUgd2FzIGEgc21hbGwgYm94LiBUaGUgYm94IGhhZCBhIDxtYXJrPnRyZWFzdXJlPC9tYXJrPiBpbnNpZGUuIEl0IHdhcyBhbiBvbGQgY29pbi4gTWF4IHRyaWVkIHRvIGZpbmQgdGhlIG93bmVyIGJ1dCBjb3VsZG4ndC48L3A+YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0cnVlX25hcnJhdGl2ZXMnOlxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcnlHcmFtbWFyKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gSW5jb3Jwb3JhdGUgc3RvcnkgZ3JhbW1hciBlbGVtZW50cyBpZiBwcm92aWRlZFxuICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBzdG9yeUdyYW1tYXIuc2V0dGluZyB8fCBcImEgbWFnaWNhbCBmb3Jlc3RcIjtcbiAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJzID0gc3RvcnlHcmFtbWFyLmNoYXJhY3RlcnMgfHwgXCJhIHlvdW5nIGV4cGxvcmVyIG5hbWVkIExpbHlcIjtcbiAgICAgICAgICBjb25zdCBwcm9ibGVtID0gc3RvcnlHcmFtbWFyLnByb2JsZW0gfHwgXCJhIGhpZGRlbiB0cmVhc3VyZVwiO1xuICAgICAgICAgIGNvbnN0IGF0dGVtcHRzID0gc3RvcnlHcmFtbWFyLmF0dGVtcHRzIHx8IFwiZm9sbG93aW5nIGEgbWFwIGFuZCBhc2tpbmcgZm9yIGhlbHBcIjtcbiAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gc3RvcnlHcmFtbWFyLnJlc29sdXRpb24gfHwgXCJmaW5kaW5nIHRoZSB0cmVhc3VyZSBhbmQgc2hhcmluZyBpdFwiO1xuXG4gICAgICAgICAgbW9ja05hcnJhdGl2ZSA9IGA8cD5PbmNlIHVwb24gYSB0aW1lLCBpbiAke3NldHRpbmd9LCB0aGVyZSB3YXMgJHtjaGFyYWN0ZXJzfS4gT24gYSBicmlnaHQgc3VubnkgbW9ybmluZywgdGhleSBzZXQgb3V0IG9uIGFuIDxtYXJrPmFkdmVudHVyZTwvbWFyaz4gdGhyb3VnaCB0aGUgd2luZGluZyBwYXRocyBvZiB0aGUgPG1hcms+Zm9yZXN0PC9tYXJrPi4gVGhleSB3ZXJlIHZlcnkgPG1hcms+Y3VyaW91czwvbWFyaz4gYWJvdXQgZmluZGluZyAke3Byb2JsZW19LjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5cIkkgd29uZGVyIHdoYXQgSSdsbCBmaW5kIHRvZGF5LFwiIHRoZXkgc2FpZCB3aXRoIGV4Y2l0ZW1lbnQuIEFzIHRoZXkgd2Fsa2VkIGRlZXBlciBpbnRvIHRoZSBmb3Jlc3QsIHRoZXkgbm90aWNlZCBzb21ldGhpbmcgdW51c3VhbOKAlGEgc3RyYW5nZSBtYXJraW5nIG9uIGFuIG9sZCB0cmVlLiBUaGV5IGRlY2lkZWQgdG8gaW52ZXN0aWdhdGUgYnkgJHthdHRlbXB0c30uPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPkFmdGVyIHNlYXJjaGluZyBmb3IgaG91cnMsIHRoZXkgZmluYWxseSA8bWFyaz5kaXNjb3ZlcmVkPC9tYXJrPiB3aGF0IHRoZXkgaGFkIGJlZW4gbG9va2luZyBmb3IuIEhpZGRlbiBiZW5lYXRoIHNvbWUgZmFsbGVuIGxlYXZlcyB3YXMgYSBzbWFsbCB3b29kZW4gYm94LiBJbnNpZGUgd2FzIGEgbWFnbmlmaWNlbnQgPG1hcms+dHJlYXN1cmU8L21hcms+IHRoYXQgc3BhcmtsZWQgaW4gdGhlIHN1bmxpZ2h0LjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5UaGUgYWR2ZW50dXJlIGVuZGVkIHdpdGggJHtyZXNvbHV0aW9ufS4gVGhleSByZXR1cm5lZCBob21lLCB0aXJlZCBidXQgaGFwcHksIGtub3dpbmcgdGhhdCB0aGVpciBjdXJpb3NpdHkgYW5kIHBlcnNldmVyYW5jZSBoYWQgbGVkIHRoZW0gdG8gc29tZXRoaW5nIHNwZWNpYWwuIEZyb20gdGhhdCBkYXkgb24sIHRoZXkgd291bGQgYWx3YXlzIHJlbWVtYmVyIHRoZWlyIHdvbmRlcmZ1bCBkaXNjb3ZlcnkgaW4gdGhlIGZvcmVzdC48L3A+YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb2NrTmFycmF0aXZlID0gYDxwPk9uY2UgdXBvbiBhIHRpbWUsIHRoZXJlIHdhcyBhIGdpcmwgbmFtZWQgTGlseSB3aG8gbG92ZWQgPG1hcms+YWR2ZW50dXJlczwvbWFyaz4uIE9uZSBzdW5ueSBTYXR1cmRheSBtb3JuaW5nLCBzaGUgZGVjaWRlZCB0byBleHBsb3JlIHRoZSA8bWFyaz5mb3Jlc3Q8L21hcms+IGJlaGluZCBoZXIgZ3JhbmRwYXJlbnRzJyBob3VzZS4gTGlseSBoYWQgYWx3YXlzIGJlZW4gPG1hcms+Y3VyaW91czwvbWFyaz4gYWJvdXQgd2hhdCBtaWdodCBiZSBoaWRkZW4gYW1vbmcgdGhlIHRhbGwgdHJlZXMgYW5kIHdpbmRpbmcgcGF0aHMuPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPlwiSSdtIGdvaW5nIHRvIGV4cGxvcmUgdG9kYXksXCIgTGlseSB0b2xkIGhlciBncmFuZG1vdGhlci4gXCJJJ2xsIGJlIGNhcmVmdWwgYW5kIHN0YXkgb24gdGhlIG1haW4gcGF0aC5cIiBIZXIgZ3JhbmRtb3RoZXIgZ2F2ZSBoZXIgYSBzbWFsbCBiYWNrcGFjayB3aXRoIHdhdGVyIGFuZCBzbmFja3MgZm9yIGhlciBqb3VybmV5LjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5BcyBMaWx5IHdhbGtlZCBkZWVwZXIgaW50byB0aGUgPG1hcms+Zm9yZXN0PC9tYXJrPiwgc2hlIG5vdGljZWQgc29tZXRoaW5nIHVudXN1YWzigJRhIGJyaWdodCBibHVlIGZlYXRoZXIgb24gdGhlIGdyb3VuZC4gSGVyIDxtYXJrPmN1cmlvdXM8L21hcms+IG5hdHVyZSBtYWRlIGhlciB3b25kZXIgd2hhdCBraW5kIG9mIGJpcmQgaXQgY2FtZSBmcm9tLiBTaGUgZGVjaWRlZCB0byBmb2xsb3cgdGhlIHRyYWlsIG9mIGZlYXRoZXJzIHRoYXQgc2VlbWVkIHRvIGxlYWQgb2ZmIHRoZSBtYWluIHBhdGguIFRoYXQncyB3aGVuIHNoZSA8bWFyaz5kaXNjb3ZlcmVkPC9tYXJrPiBhIHNtYWxsIGNsZWFyaW5nIHNoZSBoYWQgbmV2ZXIgc2VlbiBiZWZvcmUuPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPkluIHRoZSBtaWRkbGUgb2YgdGhlIGNsZWFyaW5nIHN0b29kIGFuIG9sZCBvYWsgdHJlZSB3aXRoIGEgaG9sbG93IGF0IGl0cyBiYXNlLiBMaWx5IGNhcmVmdWxseSBwZWVrZWQgaW5zaWRlIGFuZCBnYXNwZWQuIFRoZXJlIHdhcyBhIGJpcmQncyBuZXN0IHdpdGggYSBiZWF1dGlmdWwgYmx1ZSBlZ2chIFRoaXMgd2FzIGJldHRlciB0aGFuIGFueSA8bWFyaz50cmVhc3VyZTwvbWFyaz4gc2hlIGNvdWxkIGhhdmUgaW1hZ2luZWQuIExpbHkga25ldyB0aGlzIHdhcyBhIHNwZWNpYWwgPG1hcms+ZGlzY292ZXJ5PC9tYXJrPiwgYnV0IHNoZSBhbHNvIGtuZXcgbm90IHRvIGRpc3R1cmIgdGhlIG5lc3QuIFNoZSBxdWlldGx5IGJhY2tlZCBhd2F5LCBtYXJraW5nIHRoZSBwYXRoIGluIGhlciBtaW5kIHNvIHNoZSBjb3VsZCB0ZWxsIGhlciBncmFuZHBhcmVudHMgYWJvdXQgdGhpcyBhbWF6aW5nIDxtYXJrPmFkdmVudHVyZTwvbWFyaz4uIFNvbWV0aW1lcyB0aGUgYmVzdCB0cmVhc3VyZXMgYXJlbid0IGdvbGQgb3IgamV3ZWxzLCBidXQgdGhlIHdvbmRlcnMgb2YgbmF0dXJlIHdhaXRpbmcgdG8gYmUgZGlzY292ZXJlZCBieSB0aG9zZSA8bWFyaz5jdXJpb3VzPC9tYXJrPiBlbm91Z2ggdG8gbG9vay48L3A+YDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG1vY2tOYXJyYXRpdmUgPSBgPHA+UGxlYXNlIHNlbGVjdCBhIG5hcnJhdGl2ZSBsZXZlbC48L3A+YDtcbiAgICB9XG5cbiAgICAvLyBJZiB1c2luZyB0YXJnZXQgZ3JhbW1hciBpbnN0ZWFkIG9mIHZvY2FidWxhcnksIGNyZWF0ZSBhIGRpZmZlcmVudCBuYXJyYXRpdmUgd2l0aCBncmFtbWFyIGV4YW1wbGVzXG4gICAgaWYgKHRhcmdldEdyYW1tYXIpIHtcbiAgICAgIHN3aXRjaCh0YXJnZXRHcmFtbWFyKSB7XG4gICAgICAgIGNhc2UgJ3Bhc3RfdGVuc2UnOlxuICAgICAgICAgIG1vY2tOYXJyYXRpdmUgPSBgPHA+WWVzdGVyZGF5LCBNYXggPG1hcms+dmlzaXRlZDwvbWFyaz4gaGlzIGdyYW5kbW90aGVyLiBTaGUgPG1hcms+bGl2ZWQ8L21hcms+IGluIGEgc21hbGwgY290dGFnZSBuZWFyIHRoZSBmb3Jlc3QuIE1heCA8bWFyaz5icm91Z2h0PC9tYXJrPiBoZXIgc29tZSBjb29raWVzIHRoYXQgaGlzIG1vdGhlciA8bWFyaz5iYWtlZDwvbWFyaz4uIEhpcyBncmFuZG1vdGhlciA8bWFyaz5zbWlsZWQ8L21hcms+IHdoZW4gc2hlIDxtYXJrPnNhdzwvbWFyaz4gaGltIGF0IHRoZSBkb29yLjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5UaGV5IDxtYXJrPnNwZW50PC9tYXJrPiB0aGUgYWZ0ZXJub29uIHRvZ2V0aGVyLiBHcmFuZG1vdGhlciA8bWFyaz50b2xkPC9tYXJrPiBzdG9yaWVzIGFib3V0IHdoZW4gc2hlIDxtYXJrPndhczwvbWFyaz4geW91bmcuIE1heCA8bWFyaz5saXN0ZW5lZDwvbWFyaz4gY2FyZWZ1bGx5IHRvIGV2ZXJ5IHdvcmQuIFRoZXkgPG1hcms+d2Fsa2VkPC9tYXJrPiBpbiB0aGUgZ2FyZGVuIGFuZCA8bWFyaz5waWNrZWQ8L21hcms+IHNvbWUgZmxvd2Vycy48L3A+XG4gICAgICAgICAgXG4gICAgICAgICAgPHA+QmVmb3JlIGhlIDxtYXJrPmxlZnQ8L21hcms+LCBHcmFuZG1vdGhlciA8bWFyaz5nYXZlPC9tYXJrPiBNYXggYSBzbWFsbCB3b29kZW4gYm94LiBcIlRoaXMgPG1hcms+YmVsb25nZWQ8L21hcms+IHRvIHlvdXIgZ3JhbmRmYXRoZXIsXCIgc2hlIDxtYXJrPnNhaWQ8L21hcms+LiBNYXggPG1hcms+b3BlbmVkPC9tYXJrPiBpdCBjYXJlZnVsbHkgYW5kIDxtYXJrPmZvdW5kPC9tYXJrPiBhIHNoaW55IHNpbHZlciBjb21wYXNzIGluc2lkZS4gSGUgPG1hcms+dGhhbmtlZDwvbWFyaz4gaGlzIGdyYW5kbW90aGVyIHdpdGggYSBiaWcgaHVnLjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5PbiBoaXMgd2F5IGhvbWUsIE1heCA8bWFyaz51c2VkPC9tYXJrPiB0aGUgY29tcGFzcyB0byBndWlkZSBoaW0uIEhlIDxtYXJrPmZlbHQ8L21hcms+IHZlcnkgZ3Jvd24tdXAgYW5kIHNwZWNpYWwuIFdoZW4gaGUgPG1hcms+YXJyaXZlZDwvbWFyaz4gaG9tZSwgaGUgPG1hcms+c2hvd2VkPC9tYXJrPiBldmVyeW9uZSBoaXMgc3BlY2lhbCBnaWZ0LiBIaXMgcGFyZW50cyA8bWFyaz53ZXJlPC9tYXJrPiBoYXBweSB0aGF0IGhlIDxtYXJrPmhhZDwvbWFyaz4gc3VjaCBhIHdvbmRlcmZ1bCB0aW1lLjwvcD5gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwcmVzZW50X3RlbnNlJzpcbiAgICAgICAgICAvLyBTaW1pbGFyIG1vY2sgbmFycmF0aXZlcyB3b3VsZCBiZSBnZW5lcmF0ZWQgZm9yIG90aGVyIGdyYW1tYXIgdGFyZ2V0c1xuICAgICAgICAgIG1vY2tOYXJyYXRpdmUgPSBgPHA+TWF4IDxtYXJrPnZpc2l0czwvbWFyaz4gaGlzIGdyYW5kbW90aGVyIGV2ZXJ5IFN1bmRheS4gU2hlIDxtYXJrPmxpdmVzPC9tYXJrPiBpbiBhIHNtYWxsIGNvdHRhZ2UgbmVhciB0aGUgZm9yZXN0LiBNYXggPG1hcms+YnJpbmdzPC9tYXJrPiBoZXIgY29va2llcyB0aGF0IGhpcyBtb3RoZXIgPG1hcms+YmFrZXM8L21hcms+LiBIaXMgZ3JhbmRtb3RoZXIgYWx3YXlzIDxtYXJrPnNtaWxlczwvbWFyaz4gd2hlbiBzaGUgPG1hcms+c2VlczwvbWFyaz4gaGltIGF0IHRoZSBkb29yLjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5UaGV5IDxtYXJrPnNwZW5kPC9tYXJrPiB0aGUgYWZ0ZXJub29uIHRvZ2V0aGVyLiBHcmFuZG1vdGhlciA8bWFyaz50ZWxsczwvbWFyaz4gc3RvcmllcyBhYm91dCB3aGVuIHNoZSA8bWFyaz5pczwvbWFyaz4geW91bmcuIE1heCA8bWFyaz5saXN0ZW5zPC9tYXJrPiBjYXJlZnVsbHkgdG8gZXZlcnkgd29yZC4gVGhleSA8bWFyaz53YWxrPC9tYXJrPiBpbiB0aGUgZ2FyZGVuIGFuZCA8bWFyaz5waWNrPC9tYXJrPiBzb21lIGZsb3dlcnMuPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPkJlZm9yZSBoZSA8bWFyaz5sZWF2ZXM8L21hcms+LCBHcmFuZG1vdGhlciBvZnRlbiA8bWFyaz5naXZlczwvbWFyaz4gTWF4IGEgc21hbGwgZ2lmdC4gXCJUaGlzIDxtYXJrPmJlbG9uZ3M8L21hcms+IHRvIHlvdSBub3csXCIgc2hlIDxtYXJrPnNheXM8L21hcms+LiBNYXggPG1hcms+b3BlbnM8L21hcms+IGl0IGNhcmVmdWxseSBhbmQgPG1hcms+ZmluZHM8L21hcms+IHNvbWV0aGluZyBzcGVjaWFsIGluc2lkZS4gSGUgPG1hcms+dGhhbmtzPC9tYXJrPiBoaXMgZ3JhbmRtb3RoZXIgd2l0aCBhIGJpZyBodWcuPC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPk9uIGhpcyB3YXkgaG9tZSwgTWF4IDxtYXJrPnVzZXM8L21hcms+IGhpcyBpbWFnaW5hdGlvbiB0byBjcmVhdGUgYWR2ZW50dXJlcy4gSGUgPG1hcms+ZmVlbHM8L21hcms+IHZlcnkgZ3Jvd24tdXAgYW5kIHNwZWNpYWwuIFdoZW4gaGUgPG1hcms+YXJyaXZlczwvbWFyaz4gaG9tZSwgaGUgPG1hcms+c2hvd3M8L21hcms+IGV2ZXJ5b25lIGhpcyBzcGVjaWFsIGdpZnQuIEhpcyBwYXJlbnRzIDxtYXJrPmFyZTwvbWFyaz4gaGFwcHkgdGhhdCBoZSA8bWFyaz5oYXM8L21hcms+IHN1Y2ggYSB3b25kZXJmdWwgdGltZS48L3A+YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBtb2NrTmFycmF0aXZlID0gYDxwPk5hcnJhdGl2ZSB3aXRoICR7dGFyZ2V0R3JhbW1hci5yZXBsYWNlKCdfJywgJyAnKX0gZXhhbXBsZXMgd291bGQgYmUgZ2VuZXJhdGVkIGhlcmUuPC9wPmA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2FtcGxlIHByZS1yZWFkaW5nIGFjdGl2aXRpZXNcbiAgICBjb25zdCBwcmVSZWFkaW5nQWN0aXZpdGllcyA9IGluY2x1ZGVQcmVSZWFkaW5nQWN0aXZpdGllcyA/IGBcbiAgICAgICMjIyBQcmUtUmVhZGluZyBBY3Rpdml0aWVzXG4gICAgICBcbiAgICAgICMjIyMgUGljdHVyZSBXYWxrXG4gICAgICBMb29rIGF0IHRoZSBpbGx1c3RyYXRpb25zIGluIHRoZSBzdG9yeSB0b2dldGhlci4gQXNrIHF1ZXN0aW9ucyBsaWtlOlxuICAgICAgLSBXaGF0IGRvIHlvdSBzZWUgaW4gdGhpcyBwaWN0dXJlP1xuICAgICAgLSBXaGF0IGRvIHlvdSB0aGluayBtaWdodCBoYXBwZW4gaW4gdGhpcyBzdG9yeT9cbiAgICAgIC0gSG93IGRvIHlvdSB0aGluayB0aGUgY2hhcmFjdGVyIGZlZWxzP1xuICAgICAgXG4gICAgICAjIyMjIFZvY2FidWxhcnkgUHJldmlld1xuICAgICAgQmVmb3JlIHJlYWRpbmcsIGludHJvZHVjZSB0aGVzZSB0YXJnZXQgd29yZHMgd2l0aCBzaW1wbGUgZGVmaW5pdGlvbnMgYW5kIGFjdGlvbnM6XG4gICAgICAtIEFkdmVudHVyZTogQWN0IG91dCBnb2luZyBvbiBhbiBhZHZlbnR1cmUgd2l0aCBhIGJhY2twYWNrXG4gICAgICAtIEZvcmVzdDogUHJldGVuZCB0byB3YWxrIHRocm91Z2ggdHJlZXMgYW5kIGhlYXIgZm9yZXN0IHNvdW5kc1xuICAgICAgLSBDdXJpb3VzOiBNYWtlIGEgY3VyaW91cyBmYWNlIHdpdGggcmFpc2VkIGV5ZWJyb3dzIGFuZCBmaW5nZXIgb24gY2hpblxuICAgICAgLSBEaXNjb3ZlcjogQWN0IG91dCBmaW5kaW5nIHNvbWV0aGluZyBleGNpdGluZ1xuICAgICAgLSBUcmVhc3VyZTogUHJldGVuZCB0byBvcGVuIGEgdHJlYXN1cmUgY2hlc3RcbiAgICAgIFxuICAgICAgIyMjIyBQcmVkaWN0aW9uIENoYXJ0XG4gICAgICBDcmVhdGUgYSBzaW1wbGUgY2hhcnQgd2l0aCBcIldoYXQgbWlnaHQgaGFwcGVuIGluIHRoZSBzdG9yeT9cIiBhbmQgaGF2ZSBzdHVkZW50cyBkcmF3IG9yIHdyaXRlIHRoZWlyIHByZWRpY3Rpb25zLlxuICAgICAgXG4gICAgICAjIyMjIFBlcnNvbmFsIENvbm5lY3Rpb25cbiAgICAgIEFzayBzdHVkZW50czogXCJIYXZlIHlvdSBldmVyIGZvdW5kIHNvbWV0aGluZyBpbnRlcmVzdGluZyBvdXRzaWRlPyBUZWxsIG1lIGFib3V0IHdoYXQgeW91IGRpc2NvdmVyZWQuXCJcbiAgICBgIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gU2FtcGxlIGNvbXByZWhlbnNpb24gcXVlc3Rpb25zIGJhc2VkIG9uIEJhcnJldHQncyBUYXhvbm9teVxuICAgIGNvbnN0IGNvbXByZWhlbnNpb25RdWVzdGlvbnMgPSBpbmNsdWRlQmFycmV0dFF1ZXN0aW9ucyA/IFtcbiAgICAgIHtcbiAgICAgICAgcXVlc3Rpb246IFwiV2hlcmUgZGlkIHRoZSBtYWluIGNoYXJhY3RlciBnbyBvbiB0aGVpciBhZHZlbnR1cmU/XCIsXG4gICAgICAgIGxldmVsOiBcImxpdGVyYWxcIixcbiAgICAgICAgc2FtcGxlQW5zd2VyOiBcIlRoZSBtYWluIGNoYXJhY3RlciB3ZW50IHRvIHRoZSBmb3Jlc3QuXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiBcIldoYXQgZGlkIHRoZSBtYWluIGNoYXJhY3RlciBmaW5kIGluIHRoZSBzdG9yeT9cIixcbiAgICAgICAgbGV2ZWw6IFwibGl0ZXJhbFwiLFxuICAgICAgICBzYW1wbGVBbnN3ZXI6IFwiVGhlIG1haW4gY2hhcmFjdGVyIGZvdW5kIGEgdHJlYXN1cmUvc3BlY2lhbCBvYmplY3QuXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiBcIldoYXQgaGFwcGVuZWQgZmlyc3QsIHNlY29uZCwgYW5kIGxhc3QgaW4gdGhlIHN0b3J5P1wiLFxuICAgICAgICBsZXZlbDogXCJyZW9yZ2FuaXphdGlvblwiLFxuICAgICAgICBzYW1wbGVBbnN3ZXI6IFwiRmlyc3QsIHRoZSBjaGFyYWN0ZXIgd2VudCB0byB0aGUgZm9yZXN0LiBTZWNvbmQsIHRoZXkgZGlzY292ZXJlZCBzb21ldGhpbmcgaW50ZXJlc3RpbmcuIExhc3QsIHRoZXkgZm91bmQgYSB0cmVhc3VyZS5cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcXVlc3Rpb246IFwiV2h5IHdhcyB0aGUgbWFpbiBjaGFyYWN0ZXIgY3VyaW91cyBhYm91dCB0aGUgZm9yZXN0P1wiLFxuICAgICAgICBsZXZlbDogXCJpbmZlcmVudGlhbFwiLFxuICAgICAgICBzYW1wbGVBbnN3ZXI6IFwiVGhlIG1haW4gY2hhcmFjdGVyIHdhcyBwcm9iYWJseSBjdXJpb3VzIGJlY2F1c2UgdGhleSB3b25kZXJlZCB3aGF0IGludGVyZXN0aW5nIHRoaW5ncyBtaWdodCBiZSBoaWRkZW4gaW4gdGhlIGZvcmVzdC5cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcXVlc3Rpb246IFwiSG93IGRvIHlvdSB0aGluayB0aGUgbWFpbiBjaGFyYWN0ZXIgZmVsdCB3aGVuIHRoZXkgZGlzY292ZXJlZCB0aGUgdHJlYXN1cmU/XCIsXG4gICAgICAgIGxldmVsOiBcImluZmVyZW50aWFsXCIsXG4gICAgICAgIHNhbXBsZUFuc3dlcjogXCJUaGV5IHByb2JhYmx5IGZlbHQgZXhjaXRlZCBhbmQgaGFwcHkgdG8gZmluZCBzb21ldGhpbmcgc3BlY2lhbC5cIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcXVlc3Rpb246IFwiV2FzIGl0IGEgZ29vZCBpZGVhIGZvciB0aGUgY2hhcmFjdGVyIHRvIGdvIGludG8gdGhlIGZvcmVzdCBhbG9uZT8gV2h5IG9yIHdoeSBub3Q/XCIsXG4gICAgICAgIGxldmVsOiBcImV2YWx1YXRpb25cIixcbiAgICAgICAgc2FtcGxlQW5zd2VyOiBcIkFuc3dlcnMgd2lsbCB2YXJ5LiBTdHVkZW50cyBtaWdodCBzYXkgaXQgd2Fzbid0IHNhZmUgdG8gZ28gYWxvbmUsIG9yIHRoYXQgdGhlIGNoYXJhY3RlciB3YXMgcHJlcGFyZWQgYW5kIGNhcmVmdWwuXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHF1ZXN0aW9uOiBcIklmIHlvdSBmb3VuZCB0aGUgc2FtZSB0cmVhc3VyZSBhcyB0aGUgY2hhcmFjdGVyLCB3aGF0IHdvdWxkIHlvdSBkbyB3aXRoIGl0P1wiLFxuICAgICAgICBsZXZlbDogXCJhcHByZWNpYXRpb25cIixcbiAgICAgICAgc2FtcGxlQW5zd2VyOiBcIkFuc3dlcnMgd2lsbCB2YXJ5IGJhc2VkIG9uIHBlcnNvbmFsIHByZWZlcmVuY2UuXCJcbiAgICAgIH1cbiAgICBdIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gU2FtcGxlIGltYWdlIHByb21wdHMgZm9yIG5hcnJhdGl2ZSBpbGx1c3RyYXRpb25cbiAgICAvLyBFbnN1cmUgY29uc2lzdGVuY3kgaW4gY2hhcmFjdGVyIGFuZCBzZXR0aW5nIGRlc2NyaXB0aW9ucyBmb3IgYWxsIGltYWdlc1xuICAgIGNvbnN0IGltYWdlUHJvbXB0cyA9IGdlbmVyYXRlSW1hZ2VzID8gKCgpID0+IHtcbiAgICAgIGNvbnN0IGNoYXJhY3RlckRlc2NyaXB0aW9uID0gc3R1ZGVudE5hbWUgPyBcbiAgICAgICAgYGEgY2hpbGQgbmFtZWQgJHtzdHVkZW50TmFtZX1gIDogXG4gICAgICAgIFwiYSB5b3VuZyBjaGlsZCB3aXRoIGEgY3VyaW91cyBleHByZXNzaW9uXCI7XG4gICAgICBcbiAgICAgIGNvbnN0IHNldHRpbmdEZXNjcmlwdGlvbiA9IHN0b3J5R3JhbW1hci5zZXR0aW5nIHx8IFwiYSBmb3Jlc3Qgd2l0aCB0YWxsIHRyZWVzXCI7XG4gICAgICBcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7Y2hhcmFjdGVyRGVzY3JpcHRpb259IHN0YW5kaW5nIGF0IHRoZSBlZGdlIG9mICR7c2V0dGluZ0Rlc2NyaXB0aW9ufS4gVGhlIHNjZW5lIGlzIGJyaWdodCwgY29sb3JmdWwsIGFuZCBpbnZpdGluZywgc3VpdGFibGUgZm9yIGEgY2hpbGRyZW4ncyBib29rIGlsbHVzdHJhdGlvbiB3aXRoIHNvZnQgbGlnaHRpbmcgZmlsdGVyaW5nIHRocm91Z2ggdGhlIGxlYXZlcy4gVGhlIGNoaWxkIGlzIHdlYXJpbmcgYSByZWQgdC1zaGlydCBhbmQgYmx1ZSBwYW50cyB3aXRoIGEgc21hbGwgYmFja3BhY2suYCxcbiAgICAgICAgICBzY2VuZUNvbnRleHQ6IFwiVGhlIGJlZ2lubmluZyBvZiB0aGUgc3Rvcnkgd2hlbiB0aGUgbWFpbiBjaGFyYWN0ZXIgaXMgYWJvdXQgdG8gZW50ZXIgdGhlIGZvcmVzdCBmb3IgdGhlaXIgYWR2ZW50dXJlLlwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYEEgZGV0YWlsZWQgY2xvc2UtdXAgb2YgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbn0gKGluIHRoZSBzYW1lIHJlZCB0LXNoaXJ0IGFuZCBibHVlIHBhbnRzKSBkaXNjb3ZlcmluZyBzb21ldGhpbmcgaW50ZXJlc3Rpbmcgb24gdGhlIGZvcmVzdCBmbG9vciBpbiAke3NldHRpbmdEZXNjcmlwdGlvbn0uIFRoZSBjaGlsZCBpcyBrbmVlbGluZyBkb3duIHdpdGggYW4gZXhwcmVzc2lvbiBvZiB3b25kZXIsIHN1cnJvdW5kZWQgYnkgZm9yZXN0IHZlZ2V0YXRpb24sIG11c2hyb29tcywgYW5kIHdpbGRmbG93ZXJzLiBUaGUgc2FtZSBzb2Z0LCBkYXBwbGVkIGxpZ2h0aW5nIGZpbHRlcnMgdGhyb3VnaCB0aGUgdHJlZSBjYW5vcHkgYXMgaW4gdGhlIGZpcnN0IGltYWdlLmAsXG4gICAgICAgICAgc2NlbmVDb250ZXh0OiBcIlRoZSBtaWRkbGUgb2YgdGhlIHN0b3J5IHdoZW4gdGhlIGNoYXJhY3RlciBkaXNjb3ZlcnMgc29tZXRoaW5nIHVudXN1YWwgYW5kIGRlY2lkZXMgdG8gaW52ZXN0aWdhdGUuXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbn0gKHN0aWxsIGluIHRoZSBzYW1lIHJlZCB0LXNoaXJ0IGFuZCBibHVlIHBhbnRzKSBpbiBhIG1hZ2ljYWwgY2xlYXJpbmcgd2l0aGluICR7c2V0dGluZ0Rlc2NyaXB0aW9ufS4gVGhlcmUncyBhbiBhbmNpZW50IG9hayB0cmVlIGF0IHRoZSBjZW50ZXIgd2l0aCBhIHNtYWxsIGhvbGxvdyBhdCBpdHMgYmFzZSBnbG93aW5nIHdpdGggYSBzdWJ0bGUgbGlnaHQuIFRoZSBjaGlsZCBpcyBjYXJlZnVsbHkgcGVla2luZyBpbnRvIHRoZSBob2xsb3cgd2l0aCBhIGxvb2sgb2YgYW1hemVtZW50LiBUaGUgc2NlbmUgaGFzIHRoZSBzYW1lIGxpZ2h0aW5nIGFuZCBhcnRpc3RpYyBzdHlsZSBhcyB0aGUgcHJldmlvdXMgaW1hZ2VzLCBtYWludGFpbmluZyB2aXN1YWwgY29uc2lzdGVuY3kuYCxcbiAgICAgICAgICBzY2VuZUNvbnRleHQ6IFwiVGhlIGNsaW1heCBvZiB0aGUgc3Rvcnkgd2hlbiB0aGUgY2hhcmFjdGVyIGRpc2NvdmVycyB0aGUgdHJlYXN1cmUgb3Igc3BlY2lhbCBvYmplY3QuXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbn0gKGluIHRoZSBzYW1lIG91dGZpdCkgcmV0dXJuaW5nIGhvbWUgZnJvbSAke3NldHRpbmdEZXNjcmlwdGlvbn0gd2l0aCBhIGhhcHB5IGV4cHJlc3Npb24sIGhvbGRpbmcgb3IgY2FycnlpbmcgdGhlaXIgZGlzY292ZXJ5LiBUaGUgcGF0aCBsZWFkcyBmcm9tIHRoZSBmb3Jlc3QgdG8gYSBzbWFsbCBob3VzZSBpbiB0aGUgZGlzdGFuY2UuIFRoZSBzYW1lIHZpc3VhbCBzdHlsZSBhbmQgbGlnaHRpbmcgYXMgdGhlIHByZXZpb3VzIGltYWdlcywgbWFpbnRhaW5pbmcgY29uc2lzdGVuY3kgaW4gdGhlIGNoYXJhY3RlcidzIGFwcGVhcmFuY2UgYW5kIHRoZSBvdmVyYWxsIHNjZW5lLmAsXG4gICAgICAgICAgc2NlbmVDb250ZXh0OiBcIlRoZSByZXNvbHV0aW9uIG9mIHRoZSBzdG9yeSB3aGVuIHRoZSBjaGFyYWN0ZXIgcmV0dXJucyBob21lIGFmdGVyIHRoZWlyIGFkdmVudHVyZS5cIlxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH0pKCkgOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBSZXR1cm4gbW9jayByZXNwb25zZSB3aXRoIGFsbCByZXF1ZXN0ZWQgZWxlbWVudHNcbiAgICBjb25zdCByZXNwb25zZTogYW55ID0ge1xuICAgICAgbmFycmF0aXZlOiBtb2NrTmFycmF0aXZlLFxuICAgICAgcHJlUmVhZGluZ0FjdGl2aXRpZXM6IHByZVJlYWRpbmdBY3Rpdml0aWVzLFxuICAgICAgY29tcHJlaGVuc2lvblF1ZXN0aW9uczogY29tcHJlaGVuc2lvblF1ZXN0aW9ucyxcbiAgICAgIGltYWdlUHJvbXB0czogaW1hZ2VQcm9tcHRzLFxuICAgIH07XG5cbiAgICAvLyBBZGQgZWl0aGVyIHZvY2FidWxhcnkgZGVmaW5pdGlvbnMgb3IgZ3JhbW1hciBleGFtcGxlcyBiYXNlZCBvbiB3aGF0IHdhcyB0YXJnZXRlZFxuICAgIGlmICh0YXJnZXRWb2NhYnVsYXJ5ICYmIHRhcmdldFZvY2FidWxhcnkubGVuZ3RoID4gMCkge1xuICAgICAgcmVzcG9uc2Uudm9jYWJ1bGFyeSA9IHZvY2FidWxhcnlEZWZpbml0aW9ucztcbiAgICB9IGVsc2UgaWYgKHRhcmdldEdyYW1tYXIpIHtcbiAgICAgIHJlc3BvbnNlLmdyYW1tYXJFeGFtcGxlcyA9IGdyYW1tYXJFeGFtcGxlcztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBuYXJyYXRpdmU6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59Il0sIm5hbWVzIjpbIkJBUlJFVFRTX1RBWE9OT01ZX0RFU0NSSVBUSU9OIiwiZ2VuZXJhdGVXb3JkTGlzdCIsInRhcmdldFNvdW5kIiwid29yZFBvc2l0aW9uIiwibWF4U3lsbGFibGVzIiwiZXhjbHVkZWRTb3VuZHMiLCJzdHVkZW50QWdlIiwic3R1ZGVudE5hbWUiLCJzeXN0ZW1Qcm9tcHQiLCJsZW5ndGgiLCJqb2luIiwibW9ja1Jlc3BvbnNlcyIsIndvcmRzIiwibm9uc2Vuc2VXb3JkcyIsInBocmFzZXMiLCJzZW50ZW5jZXMiLCJuYXJyYXRpdmUiLCJyZXNwb25zZSIsInJlYWxXb3JkcyIsImVycm9yIiwiY29uc29sZSIsImdlbmVyYXRlTmFycmF0aXZlIiwibmFycmF0aXZlTGV2ZWwiLCJ0YXJnZXRWb2NhYnVsYXJ5IiwidGFyZ2V0R3JhbW1hciIsImluY2x1ZGVCYXJyZXR0UXVlc3Rpb25zIiwiaW5jbHVkZVByZVJlYWRpbmdBY3Rpdml0aWVzIiwiZ2VuZXJhdGVJbWFnZXMiLCJjb25zaXN0ZW50SW1hZ2VTdHlsZSIsInN0b3J5R3JhbW1hciIsIm5hcnJhdGl2ZURlc2NyaXB0aW9ucyIsImhlYXBzIiwic2VxdWVuY2VzIiwicHJpbWl0aXZlX25hcnJhdGl2ZXMiLCJjaGFpbl9uYXJyYXRpdmVzIiwiZm9jdXNlZF9jaGFpbnMiLCJ0cnVlX25hcnJhdGl2ZXMiLCJyZXBsYWNlIiwiT2JqZWN0Iiwia2V5cyIsImVudHJpZXMiLCJmaWx0ZXIiLCJfIiwidmFsdWUiLCJ0cmltIiwibWFwIiwia2V5Iiwidm9jYWJ1bGFyeURlZmluaXRpb25zIiwid29yZCIsIm1vY2tEZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJleGFtcGxlIiwiZXhhbXBsZVNlbnRlbmNlIiwidW5kZWZpbmVkIiwiZ3JhbW1hckV4YW1wbGVzIiwic2VudGVuY2UiLCJleHBsYW5hdGlvbiIsIm1vY2tOYXJyYXRpdmUiLCJzZXR0aW5nIiwiY2hhcmFjdGVycyIsInByb2JsZW0iLCJhdHRlbXB0cyIsInJlc29sdXRpb24iLCJwcmVSZWFkaW5nQWN0aXZpdGllcyIsImNvbXByZWhlbnNpb25RdWVzdGlvbnMiLCJxdWVzdGlvbiIsImxldmVsIiwic2FtcGxlQW5zd2VyIiwiaW1hZ2VQcm9tcHRzIiwiY2hhcmFjdGVyRGVzY3JpcHRpb24iLCJzZXR0aW5nRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInNjZW5lQ29udGV4dCIsInZvY2FidWxhcnkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/claudeListGenerator.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/openai-config.ts":
/*!**********************************!*\
  !*** ./src/lib/openai-config.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_IMAGE_OPTIONS: () => (/* binding */ DEFAULT_IMAGE_OPTIONS),\n/* harmony export */   getOpenAIConfig: () => (/* binding */ getOpenAIConfig),\n/* harmony export */   openaiClient: () => (/* binding */ openaiClient)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\n// Configure OpenAI client with proper error handling for project API keys\nconst configureOpenAI = ()=>{\n    try {\n        const apiKey = process.env.OPENAI_API_KEY;\n        if (!apiKey) {\n            console.error('OpenAI API key is missing');\n            throw new Error('OpenAI API key is required but not provided');\n        }\n        // Configuration options for project API keys\n        const options = {\n            apiKey,\n            maxRetries: 3,\n            timeout: 60 * 1000\n        };\n        // Add organization ID if available\n        if (process.env.OPENAI_ORG_ID) {\n            options.organization = process.env.OPENAI_ORG_ID;\n        }\n        return new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAI(options);\n    } catch (error) {\n        console.error('Error configuring OpenAI client:', error);\n        throw error;\n    }\n};\n// Export a singleton instance\nconst openaiClient = configureOpenAI();\n// Helper for the AI SDK\nconst getOpenAIConfig = ()=>{\n    return {\n        apiKey: process.env.OPENAI_API_KEY,\n        organization: process.env.OPENAI_ORG_ID\n    };\n};\n// Default options for image generation\nconst DEFAULT_IMAGE_OPTIONS = {\n    model: 'dall-e-3',\n    size: '1024x1024',\n    quality: 'standard',\n    style: 'vivid',\n    n: 1\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL29wZW5haS1jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUVoQywwRUFBMEU7QUFDMUUsTUFBTUMsa0JBQWtCO0lBQ3RCLElBQUk7UUFDRixNQUFNQyxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLGNBQWM7UUFFekMsSUFBSSxDQUFDSCxRQUFRO1lBQ1hJLFFBQVFDLEtBQUssQ0FBQztZQUNkLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUVBLDZDQUE2QztRQUM3QyxNQUFNQyxVQUFlO1lBQ25CUDtZQUNBUSxZQUFZO1lBQ1pDLFNBQVMsS0FBSztRQUNoQjtRQUVBLG1DQUFtQztRQUNuQyxJQUFJUixRQUFRQyxHQUFHLENBQUNRLGFBQWEsRUFBRTtZQUM3QkgsUUFBUUksWUFBWSxHQUFHVixRQUFRQyxHQUFHLENBQUNRLGFBQWE7UUFDbEQ7UUFFQSxPQUFPLElBQUlaLDBDQUFNQSxDQUFDUztJQUNwQixFQUFFLE9BQU9GLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsTUFBTUE7SUFDUjtBQUNGO0FBRUEsOEJBQThCO0FBQ3ZCLE1BQU1PLGVBQWViLGtCQUFrQjtBQUU5Qyx3QkFBd0I7QUFDakIsTUFBTWMsa0JBQWtCO0lBQzdCLE9BQU87UUFDTGIsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO1FBQ2xDUSxjQUFjVixRQUFRQyxHQUFHLENBQUNRLGFBQWE7SUFDekM7QUFDRixFQUFFO0FBWUYsdUNBQXVDO0FBQ2hDLE1BQU1JLHdCQUF5RDtJQUNwRUMsT0FBTztJQUNQQyxNQUFNO0lBQ05DLFNBQVM7SUFDVEMsT0FBTztJQUNQQyxHQUFHO0FBQ0wsRUFBRSIsInNvdXJjZXMiOlsiL1VzZXJzL2JyYW5kb25icmV3ZXIvRG9jdW1lbnRzL0xpbmd1b3NpdHkvTGluZ3Vvc2l0eS9zcmMvbGliL29wZW5haS1jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSAnb3BlbmFpJztcblxuLy8gQ29uZmlndXJlIE9wZW5BSSBjbGllbnQgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmcgZm9yIHByb2plY3QgQVBJIGtleXNcbmNvbnN0IGNvbmZpZ3VyZU9wZW5BSSA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWTtcbiAgICBcbiAgICBpZiAoIWFwaUtleSkge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlbkFJIEFQSSBrZXkgaXMgbWlzc2luZycpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcGVuQUkgQVBJIGtleSBpcyByZXF1aXJlZCBidXQgbm90IHByb3ZpZGVkJyk7XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBwcm9qZWN0IEFQSSBrZXlzXG4gICAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgICAgYXBpS2V5LFxuICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgIHRpbWVvdXQ6IDYwICogMTAwMCwgLy8gNjAgc2Vjb25kcyB0aW1lb3V0XG4gICAgfTtcblxuICAgIC8vIEFkZCBvcmdhbml6YXRpb24gSUQgaWYgYXZhaWxhYmxlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk9QRU5BSV9PUkdfSUQpIHtcbiAgICAgIG9wdGlvbnMub3JnYW5pemF0aW9uID0gcHJvY2Vzcy5lbnYuT1BFTkFJX09SR19JRDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IE9wZW5BSShvcHRpb25zKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25maWd1cmluZyBPcGVuQUkgY2xpZW50OicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gRXhwb3J0IGEgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3Qgb3BlbmFpQ2xpZW50ID0gY29uZmlndXJlT3BlbkFJKCk7XG5cbi8vIEhlbHBlciBmb3IgdGhlIEFJIFNES1xuZXhwb3J0IGNvbnN0IGdldE9wZW5BSUNvbmZpZyA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxuICAgIG9yZ2FuaXphdGlvbjogcHJvY2Vzcy5lbnYuT1BFTkFJX09SR19JRCxcbiAgfTtcbn07XG5cbi8vIFR5cGVzIGZvciBpbWFnZSBnZW5lcmF0aW9uXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlR2VuZXJhdGlvbk9wdGlvbnMge1xuICBwcm9tcHQ6IHN0cmluZztcbiAgbW9kZWw/OiAnZGFsbC1lLTInIHwgJ2RhbGwtZS0zJztcbiAgc2l6ZT86ICcyNTZ4MjU2JyB8ICc1MTJ4NTEyJyB8ICcxMDI0eDEwMjQnIHwgJzE3OTJ4MTAyNCcgfCAnMTAyNHgxNzkyJztcbiAgcXVhbGl0eT86ICdzdGFuZGFyZCcgfCAnaGQnO1xuICBzdHlsZT86ICd2aXZpZCcgfCAnbmF0dXJhbCc7XG4gIG4/OiBudW1iZXI7XG59XG5cbi8vIERlZmF1bHQgb3B0aW9ucyBmb3IgaW1hZ2UgZ2VuZXJhdGlvblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfSU1BR0VfT1BUSU9OUzogUGFydGlhbDxJbWFnZUdlbmVyYXRpb25PcHRpb25zPiA9IHtcbiAgbW9kZWw6ICdkYWxsLWUtMycsXG4gIHNpemU6ICcxMDI0eDEwMjQnLFxuICBxdWFsaXR5OiAnc3RhbmRhcmQnLFxuICBzdHlsZTogJ3ZpdmlkJyxcbiAgbjogMVxufTsiXSwibmFtZXMiOlsiT3BlbkFJIiwiY29uZmlndXJlT3BlbkFJIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiY29uc29sZSIsImVycm9yIiwiRXJyb3IiLCJvcHRpb25zIiwibWF4UmV0cmllcyIsInRpbWVvdXQiLCJPUEVOQUlfT1JHX0lEIiwib3JnYW5pemF0aW9uIiwib3BlbmFpQ2xpZW50IiwiZ2V0T3BlbkFJQ29uZmlnIiwiREVGQVVMVF9JTUFHRV9PUFRJT05TIiwibW9kZWwiLCJzaXplIiwicXVhbGl0eSIsInN0eWxlIiwibiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/openai-config.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/formdata-node","vendor-chunks/openai","vendor-chunks/docxtemplater","vendor-chunks/pizzip","vendor-chunks/form-data-encoder","vendor-chunks/@xmldom","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/tr46","vendor-chunks/web-streams-polyfill","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/pako","vendor-chunks/ms","vendor-chunks/humanize-ms","vendor-chunks/event-target-shim","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate-template%2Froute&page=%2Fapi%2Fgenerate-template%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-template%2Froute.ts&appDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbrandonbrewer%2FDocuments%2FLinguosity%2FLinguosity&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();